{"version":3,"names":["MovieDetails","props","_didTapOnBackButton","navigation","goBack","_addToWatchList","state","params","item","id","watchlistItems","updateWatchlist","isWatchlistItem","updatedWatchListArray","tempArray","indexFound","map","obj","index","splice","setState","_notifyMessage","movieData","filterData","filter","length","getMovieDetailsAction","data","status","console","log","msg","Platform","OS","ToastAndroid","show","SHORT","alert","isLoading","styles","safeContainer","posterStyle","uri","Constants","APP_IMG_URL_LARGE","poster_path","movieTitleContainer","imgStyle","movieTitleTextStyle","title","genreListStyle","genres","key","marginLeft","marginRight","name","genreContainer","genreTextStyle","movieTextStyle","aboutMovieStyle","thinSeparator","overviewStyle","overviewContentStyle","overview","releaseStyle","releaseContentStyle","release_date","rowStyle","avgRatingContainer","vote_average","flex","flexDirection","marginTop","alignItems","fontSize","vote_count","popularity","bottomContainerStyle","backButtonContainerStyle","backButtonContainer","backButtonImageStyle","Images","back","backTextStyle","watchListContainerStyle","watchListContainer","watchListImageStyle","watchlist_dark_tick","watchlist_dark","Component"],"sources":["MovieDetails.js"],"sourcesContent":["/**\n * Created on July 17, 2022\n * Movie Details screen\n */\n\nimport {\n  View,\n  TouchableOpacity,\n  Text,\n  SafeAreaView,\n  FlatList,\n  Image,\n  ToastAndroid,\n} from \"react-native\";\n\nimport styles from \"./styles\";\nimport React, { Component } from \"react\";\nimport Images from \"../../config/images\";\nimport Constants from \"../../config/constants\";\nimport { ScrollView } from \"react-native\";\nimport HudView from \"../../components/hudView\";\n\nexport default class MovieDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      movieData: \"\",\n      isWatchlistItem: false,\n    };\n  }\n\n  /*\n   * Fetch movie details on page load\n   */\n\n  componentDidMount() {\n    const { id } = this.props.navigation.state.params;\n    const { watchlistItems } = this.props;\n    let filterData = watchlistItems.filter((item) => item.id == id);\n\n    this.setState({ isWatchlistItem: filterData.length > 0 });\n    this.props.getMovieDetailsAction(id, ({ data, status }) => {\n      if (status) {\n        console.log(\"MOVIE DETAIL SCREEN\", data);\n        this.setState({\n          movieData: data,\n        });\n      }\n    });\n  }\n\n  /*\n   * Shows a toast/alert message when movie is added/removed from Watchlist\n   */\n  _notifyMessage(msg) {\n    if (Platform.OS === \"android\") {\n      ToastAndroid.show(msg, ToastAndroid.SHORT);\n    } else {\n      alert(msg);\n    }\n  }\n\n  /*\n   * Navigates to back\n   */\n  _didTapOnBackButton = () => {\n    this.props.navigation.goBack();\n  };\n\n  /*\n   * Add/Remove movie item to watchlist\n   * Fetch watchlist data from reducer and modify it and dispatch to reducer\n   */\n  _addToWatchList = () => {\n    const { item, id } = this.props.navigation.state.params;\n    const { watchlistItems, updateWatchlist } = this.props;\n\n    const { isWatchlistItem } = this.state;\n    let updatedWatchListArray = [];\n\n    if (isWatchlistItem) {\n      let tempArray = [...watchlistItems];\n      let indexFound = -1;\n      tempArray.map((obj, index) => {\n        if (obj.id == id) {\n          indexFound = index;\n        }\n      });\n      if (indexFound > -1) tempArray.splice(indexFound, 1);\n\n      updatedWatchListArray = tempArray;\n    } else {\n      updatedWatchListArray = [...watchlistItems, ...[item]];\n    }\n\n    updateWatchlist(updatedWatchListArray);\n    this.setState({ isWatchlistItem: !this.state.isWatchlistItem });\n    this._notifyMessage(\n      isWatchlistItem ? \"Removed from Watchlist\" : \"Added to Watchlist\"\n    );\n  };\n  render() {\n    const { movieData, isWatchlistItem } = this.state;\n    const { isLoading } = this.props;\n\n    return (\n      <SafeAreaView style={styles.safeContainer}>\n        <ScrollView showsVerticalScrollIndicator={false}>\n          <Image\n            style={styles.posterStyle}\n            source={{\n              uri: Constants.APP_IMG_URL_LARGE + movieData.poster_path,\n            }}\n          ></Image>\n\n          <View style={styles.movieTitleContainer}>\n            <Image\n              style={styles.imgStyle}\n              source={{\n                uri: Constants.APP_IMG_URL_LARGE + movieData.poster_path,\n              }}\n            ></Image>\n\n            <Text style={styles.movieTitleTextStyle}>{movieData.title}</Text>\n          </View>\n\n          <FlatList\n            style={styles.genreListStyle}\n            horizontal={true}\n            data={movieData.genres}\n            renderItem={({ item, key }) => {\n              return (\n                <View\n                  style={[\n                    {\n                      marginLeft: key == 0 ? 20 : 10,\n                      marginRight: key == movieData.genres.length - 1 ? 20 : 10,\n                    },\n                  ]}\n                >\n                  {!!item.name && (\n                    <View style={styles.genreContainer}>\n                      <Text style={styles.genreTextStyle}>{item.name}</Text>\n                    </View>\n                  )}\n                </View>\n              );\n            }}\n          />\n\n          <View style={styles.movieTitleContainer}>\n            <Text style={[styles.movieTextStyle, styles.aboutMovieStyle]}>\n              {\"About Movie\"}\n            </Text>\n\n            <View style={styles.thinSeparator} />\n\n            <Text style={[styles.movieTextStyle, styles.overviewStyle]}>\n              {\"Overviews:\"}\n            </Text>\n\n            <Text style={[styles.movieTextStyle, styles.overviewContentStyle]}>\n              {movieData.overview}\n            </Text>\n\n            <Text style={[styles.movieTextStyle, styles.releaseStyle]}>\n              {\"Release Date:\"}\n            </Text>\n\n            <Text style={[styles.movieTextStyle, styles.releaseContentStyle]}>\n              {movieData.release_date}\n            </Text>\n\n            <View style={styles.rowStyle}>\n              <View style={styles.avgRatingContainer}>\n                <Text\n                  style={[styles.movieTextStyle, styles.releaseContentStyle]}\n                >\n                  {\"Average Rating:\"}\n                </Text>\n\n                <Text\n                  style={[styles.movieTextStyle, styles.releaseContentStyle]}\n                >\n                  {movieData.vote_average}\n                </Text>\n              </View>\n\n              <View\n                style={{\n                  flex: 1,\n                  flexDirection: \"column\",\n                  marginTop: 12,\n                  alignItems: \"flex-start\",\n                }}\n              >\n                <Text style={[styles.movieTextStyle, { fontSize: 12 }]}>\n                  {\"Rate Count:\"}\n                </Text>\n\n                <Text style={[styles.movieTextStyle, { fontSize: 12 }]}>\n                  {movieData.vote_count}\n                </Text>\n              </View>\n            </View>\n\n            <Text style={[styles.movieTextStyle, styles.releaseStyle]}>\n              {\"Popularity:\"}\n            </Text>\n\n            <Text style={[styles.movieTextStyle, styles.releaseContentStyle]}>\n              {movieData.popularity}\n            </Text>\n          </View>\n        </ScrollView>\n\n        <View style={styles.bottomContainerStyle}>\n          <View style={styles.backButtonContainerStyle}>\n            <TouchableOpacity\n              style={styles.backButtonContainer}\n              onPress={() => this._didTapOnBackButton()}\n            >\n              <Image\n                style={styles.backButtonImageStyle}\n                source={Images.back}\n              ></Image>\n\n              <Text style={[styles.movieTextStyle, styles.backTextStyle]}>\n                {\"Back\"}\n              </Text>\n            </TouchableOpacity>\n          </View>\n\n          <View style={styles.watchListContainerStyle}>\n            <TouchableOpacity\n              style={styles.watchListContainer}\n              onPress={() => this._addToWatchList()}\n            >\n              <Image\n                style={styles.watchListImageStyle}\n                source={\n                  isWatchlistItem\n                    ? Images.watchlist_dark_tick\n                    : Images.watchlist_dark\n                }\n              ></Image>\n            </TouchableOpacity>\n          </View>\n        </View>\n        {isLoading && <HudView />}\n      </SafeAreaView>\n    );\n  }\n}\n"],"mappings":"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"}