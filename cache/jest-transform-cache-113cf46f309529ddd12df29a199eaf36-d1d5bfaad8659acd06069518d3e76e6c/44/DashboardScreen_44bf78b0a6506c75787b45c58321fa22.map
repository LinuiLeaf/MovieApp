{"version":3,"names":["DashboardScreen","props","_onPressRow","item","console","log","id","navigation","navigate","_onPressCategory","keyItem","getTopRatedAction","setState","catId","selectedItem","params","ApiConstants","API_TOP_RATED","API_POPULAR","API_NOW_PLAYING","API_LATEST","API_UPCOMING","data","status","movieData","_didTapOnBackButton","goBack","_openWatchList","state","isWatchlistItem","watchlistItems","filterData","filter","length","category","isLoading","styles","safeContainer","headingTextStyle","subHeadingOneTextStyle","categoryListStyle","getCategories","index","marginLeft","marginRight","categoryContainer","backgroundColor","Constants","APP_GREEN_COLOR","APP_GENRES_COLOR","selectedText","categoryTextStyle","movieListStyle","APP_TAB_COLOR","movieListContentStyle","_checkWatchListItem","title","release_date","APP_IMG_URL_SMALL","poster_path","vote_average","watchListContainer","watchlistStyles","watchlistText","watchListImageStyle","Images","watchlist_dark","Component"],"sources":["DashboardScreen.js"],"sourcesContent":["/**\n * Created on July 16, 2022\n * DashboardScreen\n */\n\nimport {\n  View,\n  TouchableOpacity,\n  Text,\n  SafeAreaView,\n  FlatList,\n  Image,\n  TouchableHighlight,\n} from \"react-native\";\n\nimport styles from \"./styles\";\nimport React, { Component } from \"react\";\nimport Images from \"../../config/images\";\nimport Constants from \"../../config/constants\";\nimport HudView from \"../../components/hudView\";\nimport MovieRow from \"../../components/MovieRow\";\nimport ApiConstants from \"../../api/apiConstants\";\n\nexport default class DashboardScreen extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      movieData: \"\",\n      catId: 1,\n      selectedItem: 1,\n      isWatchlistItem: false,\n    };\n  }\n\n  /* This function is used to check any of the movie item in the dashboard is already in the watchlist\n   *  Returns true if it is added in watchlist\n   */\n  _checkWatchListItem(id) {\n    const { watchlistItems } = this.props;\n    let filterData = watchlistItems.filter((item) => item.id == id);\n    if (filterData.length > 0) return true;\n    else return false;\n  }\n\n  /* Returns the types of categories\n   */\n  getCategories() {\n    return [\n      {\n        id: \"1\",\n        category: \"Top rated\",\n      },\n      {\n        id: \"2\",\n        category: \"Popular\",\n      },\n      {\n        id: \"3\",\n        category: \"Now Playing\",\n      },\n      {\n        id: \"4\",\n        category: \"Latest\",\n      },\n      {\n        id: \"5\",\n        category: \"Upcoming\",\n      },\n    ];\n  }\n\n  /*\n   * Function is called when a user taps on movie list. This will navigate to movie details page\n   */\n  _onPressRow = (item) => {\n    console.log(\"Movie Id--->\", item.id);\n    this.props.navigation.navigate(\"MovieDetails\", { id: item.id, item });\n  };\n\n  /*\n   * This function is called when user press the category buttons\n   * API is called to fetch movie list based on selected category\n   */\n  _onPressCategory = (keyItem) => {\n    console.log(\"Cat Id--->\", keyItem);\n    const { getTopRatedAction } = this.props;\n    this.setState({\n      catId: keyItem,\n      selectedItem: keyItem,\n    });\n\n    let params;\n    switch (keyItem) {\n      case \"1\":\n        params = ApiConstants.API_TOP_RATED;\n        break;\n      case \"2\":\n        params = ApiConstants.API_POPULAR;\n        break;\n      case \"3\":\n        params = ApiConstants.API_NOW_PLAYING;\n        break;\n      case \"4\":\n        params = ApiConstants.API_LATEST;\n        break;\n      case \"5\":\n        params = ApiConstants.API_UPCOMING;\n        break;\n    }\n\n    getTopRatedAction(params, ({ data, status }) => {\n      if (status) {\n        console.log(\"DASHBOARD SCREEN\", data);\n        this.setState({\n          movieData: data,\n        });\n      }\n    });\n  };\n\n  componentDidMount() {\n    const { catId } = this.state;\n    const { getTopRatedAction } = this.props;\n    // getTopRatedAction(ApiConstants.API_TOP_RATED, ({ data, status }) => {\n    //   if (status) {\n    //     console.log(\"DASHBOARD SCREEN\", data);\n    //     this.setState({\n    //       movieData: data,\n    //     });\n    //   }\n    // });\n  }\n\n  /*\n   * Navigates to back\n   */\n  _didTapOnBackButton = () => {\n    this.props.navigation.goBack();\n  };\n\n  /*\n   * Navigates to watchlist screen\n   */\n  _openWatchList = () => {\n    this.props.navigation.navigate(\"WatchLists\");\n  };\n\n  render() {\n    const { isLoading } = this.props;\n    const { movieData } = this.state;\n    return (\n      <SafeAreaView style={styles.safeContainer}>\n        <Text style={styles.headingTextStyle}>Movies App</Text>\n        <Text style={styles.subHeadingOneTextStyle}>Find your movies</Text>\n        <Text style={styles.subHeadingOneTextStyle}>Categories</Text>\n\n        <FlatList\n          extraData={this.state.selectedItem}\n          style={styles.categoryListStyle}\n          horizontal={true}\n          data={this.getCategories()}\n          showsHorizontalScrollIndicator={false}\n          renderItem={({ item, index }) => {\n            return (\n              <View\n                style={[\n                  {\n                    marginLeft: index == 0 ? 20 : 10,\n                    marginRight:\n                      index == this.getCategories().length - 1 ? 20 : 10,\n                  },\n                ]}\n              >\n                {!!item.category && (\n                  <TouchableOpacity\n                    style={\n                      this.state.selectedItem === item.id\n                        ? [\n                            styles.categoryContainer,\n                            { backgroundColor: Constants.APP_GREEN_COLOR },\n                          ]\n                        : [\n                            styles.categoryContainer,\n                            { backgroundColor: Constants.APP_GENRES_COLOR },\n                          ]\n                    }\n                    onPress={() => this._onPressCategory(item.id)}\n                  >\n                    <Text\n                      style={\n                        this.state.selectedItem === item.id\n                          ? styles.selectedText\n                          : styles.categoryTextStyle\n                      }\n                    >\n                      {item.category}\n                    </Text>\n                  </TouchableOpacity>\n                )}\n              </View>\n            );\n          }}\n        />\n\n        <FlatList\n          style={styles.movieListStyle}\n          data={movieData}\n          showsVerticalScrollIndicator={false}\n          extraData={movieData}\n          renderItem={({ item }) => {\n            return (\n              <TouchableHighlight\n                underlayColor={Constants.APP_TAB_COLOR}\n                style={styles.movieListContentStyle}\n                key={item.id}\n                onPress={() => this._onPressRow(item)}\n              >\n                <MovieRow\n                  isFromDashboard={true}\n                  isWatchListItems={this._checkWatchListItem(item.id)}\n                  title={item.title}\n                  releasedate={item.release_date}\n                  image_url={Constants.APP_IMG_URL_SMALL + item.poster_path}\n                  avgrating={item.vote_average}\n                />\n              </TouchableHighlight>\n            );\n          }}\n        />\n\n        <View style={styles.watchListContainer}>\n          <TouchableOpacity\n            onPress={() => this._openWatchList()}\n            style={styles.watchlistStyles}\n          >\n            <Text style={styles.watchlistText}>{\"Watch List\"}</Text>\n            <Image\n              style={styles.watchListImageStyle}\n              source={Images.watchlist_dark}\n            />\n          </TouchableOpacity>\n        </View>\n        {isLoading && <HudView />}\n      </SafeAreaView>\n    );\n  }\n}\n"],"mappings":"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"}