{"version":3,"names":["MovieDetails","props","_didTapOnBackButton","navigation","goBack","_addToWatchList","state","movieData","isWatchlistItem","msg","Platform","OS","ToastAndroid","show","SHORT","alert","isLoading","styles","safeContainer","posterStyle","uri","Constants","APP_IMG_URL_LARGE","poster_path","movieTitleContainer","imgStyle","movieTitleTextStyle","title","genreListStyle","genres","item","key","marginLeft","marginRight","length","name","genreContainer","genreTextStyle","movieTextStyle","aboutMovieStyle","thinSeparator","overviewStyle","overviewContentStyle","overview","releaseStyle","releaseContentStyle","release_date","rowStyle","avgRatingContainer","vote_average","flex","flexDirection","marginTop","alignItems","fontSize","vote_count","popularity","bottomContainerStyle","backButtonContainerStyle","backButtonContainer","backButtonImageStyle","Images","back","backTextStyle","watchListContainerStyle","watchListContainer","watchListImageStyle","watchlist_dark_tick","watchlist_dark","Component"],"sources":["MovieDetails.js"],"sourcesContent":["/**\n * Created on July 17, 2022\n * Movie Details screen\n */\n\nimport {\n  View,\n  TouchableOpacity,\n  Text,\n  SafeAreaView,\n  FlatList,\n  Image,\n  ToastAndroid,\n} from \"react-native\";\n\nimport styles from \"./styles\";\nimport React, { Component } from \"react\";\nimport Images from \"../../config/images\";\nimport Constants from \"../../config/constants\";\nimport { ScrollView } from \"react-native\";\nimport HudView from \"../../components/hudView\";\n\nexport default class MovieDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      movieData: \"\",\n      isWatchlistItem: false,\n    };\n  }\n\n  /*\n   * Fetch movie details on page load\n   */\n\n  componentDidMount() {\n    // const { id } = this.props.navigation.state.params;\n    // const { watchlistItems } = this.props;\n    // let filterData = watchlistItems.filter((item) => item.id == id);\n    // this.setState({ isWatchlistItem: filterData.length > 0 });\n    // this.props.getMovieDetailsAction(id, ({ data, status }) => {\n    //   if (status) {\n    //     console.log(\"MOVIE DETAIL SCREEN\", data);\n    //     this.setState({\n    //       movieData: data,\n    //     });\n    //   }\n    // });\n  }\n\n  /*\n   * Shows a toast/alert message when movie is added/removed from Watchlist\n   */\n  _notifyMessage(msg) {\n    if (Platform.OS === \"android\") {\n      ToastAndroid.show(msg, ToastAndroid.SHORT);\n    } else {\n      alert(msg);\n    }\n  }\n\n  /*\n   * Navigates to back\n   */\n  _didTapOnBackButton = () => {\n    this.props.navigation.goBack();\n  };\n\n  /*\n   * Add/Remove movie item to watchlist\n   * Fetch watchlist data from reducer and modify it and dispatch to reducer\n   */\n  _addToWatchList = () => {\n    // const { item, id } = this.props.navigation.state.params;\n    // const { watchlistItems, updateWatchlist } = this.props;\n    // const { isWatchlistItem } = this.state;\n    // let updatedWatchListArray = [];\n    // if (isWatchlistItem) {\n    //   let tempArray = [...watchlistItems];\n    //   let indexFound = -1;\n    //   tempArray.map((obj, index) => {\n    //     if (obj.id == id) {\n    //       indexFound = index;\n    //     }\n    //   });\n    //   if (indexFound > -1) tempArray.splice(indexFound, 1);\n    //   updatedWatchListArray = tempArray;\n    // } else {\n    //   updatedWatchListArray = [...watchlistItems, ...[item]];\n    // }\n    // updateWatchlist(updatedWatchListArray);\n    // this.setState({ isWatchlistItem: !this.state.isWatchlistItem });\n    // this._notifyMessage(\n    //   isWatchlistItem ? \"Removed from Watchlist\" : \"Added to Watchlist\"\n    // );\n  };\n  render() {\n    const { movieData, isWatchlistItem } = this.state;\n    const { isLoading } = this.props;\n\n    return (\n      <SafeAreaView style={styles.safeContainer}>\n        <ScrollView showsVerticalScrollIndicator={false}>\n          <Image\n            style={styles.posterStyle}\n            source={{\n              uri: Constants.APP_IMG_URL_LARGE + movieData.poster_path,\n            }}\n            alt={\"the_alt_text\"}\n          ></Image>\n\n          <View style={styles.movieTitleContainer}>\n            <Image\n              style={styles.imgStyle}\n              source={{\n                uri: Constants.APP_IMG_URL_LARGE + movieData.poster_path,\n              }}\n            ></Image>\n\n            <Text style={styles.movieTitleTextStyle}>{movieData.title}</Text>\n          </View>\n\n          <FlatList\n            style={styles.genreListStyle}\n            horizontal={true}\n            data={movieData.genres}\n            renderItem={({ item, key }) => {\n              return (\n                <View\n                  style={[\n                    {\n                      marginLeft: key == 0 ? 20 : 10,\n                      marginRight: key == movieData.genres.length - 1 ? 20 : 10,\n                    },\n                  ]}\n                >\n                  {!!item.name && (\n                    <View style={styles.genreContainer}>\n                      <Text style={styles.genreTextStyle}>{item.name}</Text>\n                    </View>\n                  )}\n                </View>\n              );\n            }}\n          />\n\n          <View style={styles.movieTitleContainer}>\n            <Text style={[styles.movieTextStyle, styles.aboutMovieStyle]}>\n              {\"About Movie\"}\n            </Text>\n\n            <View style={styles.thinSeparator} />\n\n            <Text style={[styles.movieTextStyle, styles.overviewStyle]}>\n              {\"Overviews:\"}\n            </Text>\n\n            <Text style={[styles.movieTextStyle, styles.overviewContentStyle]}>\n              {movieData.overview}\n            </Text>\n\n            <Text style={[styles.movieTextStyle, styles.releaseStyle]}>\n              {\"Release Date:\"}\n            </Text>\n\n            <Text style={[styles.movieTextStyle, styles.releaseContentStyle]}>\n              {movieData.release_date}\n            </Text>\n\n            <View style={styles.rowStyle}>\n              <View style={styles.avgRatingContainer}>\n                <Text\n                  style={[styles.movieTextStyle, styles.releaseContentStyle]}\n                >\n                  {\"Average Rating:\"}\n                </Text>\n\n                <Text\n                  style={[styles.movieTextStyle, styles.releaseContentStyle]}\n                >\n                  {movieData.vote_average}\n                </Text>\n              </View>\n\n              <View\n                style={{\n                  flex: 1,\n                  flexDirection: \"column\",\n                  marginTop: 12,\n                  alignItems: \"flex-start\",\n                }}\n              >\n                <Text style={[styles.movieTextStyle, { fontSize: 12 }]}>\n                  {\"Rate Count:\"}\n                </Text>\n\n                <Text style={[styles.movieTextStyle, { fontSize: 12 }]}>\n                  {movieData.vote_count}\n                </Text>\n              </View>\n            </View>\n\n            <Text style={[styles.movieTextStyle, styles.releaseStyle]}>\n              {\"Popularity:\"}\n            </Text>\n\n            <Text style={[styles.movieTextStyle, styles.releaseContentStyle]}>\n              {movieData.popularity}\n            </Text>\n          </View>\n        </ScrollView>\n\n        <View style={styles.bottomContainerStyle}>\n          <View style={styles.backButtonContainerStyle}>\n            <TouchableOpacity\n              style={styles.backButtonContainer}\n              onPress={() => this._didTapOnBackButton()}\n            >\n              <Image\n                style={styles.backButtonImageStyle}\n                source={Images.back}\n              ></Image>\n\n              <Text style={[styles.movieTextStyle, styles.backTextStyle]}>\n                {\"Back\"}\n              </Text>\n            </TouchableOpacity>\n          </View>\n\n          <View style={styles.watchListContainerStyle}>\n            <TouchableOpacity\n              style={styles.watchListContainer}\n              onPress={() => this._addToWatchList()}\n            >\n              <Image\n                style={styles.watchListImageStyle}\n                source={\n                  isWatchlistItem\n                    ? Images.watchlist_dark_tick\n                    : Images.watchlist_dark\n                }\n              ></Image>\n            </TouchableOpacity>\n          </View>\n        </View>\n        {isLoading && <HudView />}\n      </SafeAreaView>\n    );\n  }\n}\n"],"mappings":"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"}