00f80823e0b81298b0f278e458e3793d
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _AnimatedImplementation = _interopRequireDefault(require("../../Animated/AnimatedImplementation"));

var _Dimensions = _interopRequireDefault(require("../../Utilities/Dimensions"));

var _Platform = _interopRequireDefault(require("../../Utilities/Platform"));

var React = _interopRequireWildcard(require("react"));

var _ReactNative = _interopRequireDefault(require("../../Renderer/shims/ReactNative"));

var _ScrollViewStickyHeader = _interopRequireDefault(require("./ScrollViewStickyHeader"));

var _StyleSheet = _interopRequireDefault(require("../../StyleSheet/StyleSheet"));

var _View = _interopRequireDefault(require("../View/View"));

var _UIManager = _interopRequireDefault(require("../../ReactNative/UIManager"));

var _Keyboard = _interopRequireDefault(require("../Keyboard/Keyboard"));

var _FrameRateLogger = _interopRequireDefault(require("../../Interaction/FrameRateLogger"));

var _TextInputState = _interopRequireDefault(require("../TextInput/TextInputState"));

var _dismissKeyboard = _interopRequireDefault(require("../../Utilities/dismissKeyboard"));

var _flattenStyle = _interopRequireDefault(require("../../StyleSheet/flattenStyle"));

var _invariant = _interopRequireDefault(require("invariant"));

var _processDecelerationRate = _interopRequireDefault(require("./processDecelerationRate"));

var _splitLayoutProps2 = _interopRequireDefault(require("../../StyleSheet/splitLayoutProps"));

var _setAndForwardRef = _interopRequireDefault(require("../../Utilities/setAndForwardRef"));

var _ScrollViewContext = _interopRequireWildcard(require("./ScrollViewContext"));

var _ScrollViewCommands = _interopRequireDefault(require("./ScrollViewCommands"));

var _AndroidHorizontalScrollContentViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollContentViewNativeComponent"));

var _AndroidHorizontalScrollViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollViewNativeComponent"));

var _ScrollContentViewNativeComponent = _interopRequireDefault(require("./ScrollContentViewNativeComponent"));

var _ScrollViewNativeComponent = _interopRequireDefault(require("./ScrollViewNativeComponent"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

require('../../Renderer/shims/ReactNative');

var _ref = _Platform.default.OS === 'android' ? {
  NativeHorizontalScrollViewTuple: [_AndroidHorizontalScrollViewNativeComponent.default, _AndroidHorizontalScrollContentViewNativeComponent.default],
  NativeVerticalScrollViewTuple: [_ScrollViewNativeComponent.default, _View.default]
} : {
  NativeHorizontalScrollViewTuple: [_ScrollViewNativeComponent.default, _ScrollContentViewNativeComponent.default],
  NativeVerticalScrollViewTuple: [_ScrollViewNativeComponent.default, _ScrollContentViewNativeComponent.default]
},
    NativeHorizontalScrollViewTuple = _ref.NativeHorizontalScrollViewTuple,
    NativeVerticalScrollViewTuple = _ref.NativeVerticalScrollViewTuple;

var IS_ANIMATING_TOUCH_START_THRESHOLD_MS = 16;

var ScrollView = function (_React$Component) {
  (0, _inherits2.default)(ScrollView, _React$Component);

  var _super = _createSuper(ScrollView);

  function ScrollView(props) {
    var _this$props$contentOf, _this$props$contentOf2, _this$props$contentIn, _this$props$contentIn2;

    var _this;

    (0, _classCallCheck2.default)(this, ScrollView);
    _this = _super.call(this, props);
    _this._scrollAnimatedValueAttachment = null;
    _this._stickyHeaderRefs = new Map();
    _this._headerLayoutYs = new Map();
    _this._keyboardWillOpenTo = null;
    _this._additionalScrollOffset = 0;
    _this._isTouching = false;
    _this._lastMomentumScrollBeginTime = 0;
    _this._lastMomentumScrollEndTime = 0;
    _this._observedScrollSinceBecomingResponder = false;
    _this._becameResponderWhileAnimating = false;
    _this._preventNegativeScrollOffset = null;
    _this._animated = null;
    _this._subscriptionKeyboardWillShow = null;
    _this._subscriptionKeyboardWillHide = null;
    _this._subscriptionKeyboardDidShow = null;
    _this._subscriptionKeyboardDidHide = null;
    _this.state = {
      layoutHeight: null
    };
    _this._setNativeRef = (0, _setAndForwardRef.default)({
      getForwardedRef: function getForwardedRef() {
        return _this.props.scrollViewRef;
      },
      setLocalRef: function setLocalRef(ref) {
        _this._scrollViewRef = ref;

        if (ref) {
          ref.getScrollResponder = _this.getScrollResponder;
          ref.getScrollableNode = _this.getScrollableNode;
          ref.getInnerViewNode = _this.getInnerViewNode;
          ref.getInnerViewRef = _this.getInnerViewRef;
          ref.getNativeScrollRef = _this.getNativeScrollRef;
          ref.scrollTo = _this.scrollTo;
          ref.scrollToEnd = _this.scrollToEnd;
          ref.flashScrollIndicators = _this.flashScrollIndicators;
          ref.scrollResponderZoomTo = _this.scrollResponderZoomTo;
          ref.scrollResponderScrollNativeHandleToKeyboard = _this.scrollResponderScrollNativeHandleToKeyboard;
        }
      }
    });

    _this.getScrollResponder = function () {
      return (0, _assertThisInitialized2.default)(_this);
    };

    _this.getScrollableNode = function () {
      return _ReactNative.default.findNodeHandle(_this._scrollViewRef);
    };

    _this.getInnerViewNode = function () {
      return _ReactNative.default.findNodeHandle(_this._innerViewRef);
    };

    _this.getInnerViewRef = function () {
      return _this._innerViewRef;
    };

    _this.getNativeScrollRef = function () {
      return _this._scrollViewRef;
    };

    _this.scrollTo = function (options, deprecatedX, deprecatedAnimated) {
      var x, y, animated;

      if (typeof options === 'number') {
        console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, ' + 'animated: true})` instead.');
        y = options;
        x = deprecatedX;
        animated = deprecatedAnimated;
      } else if (options) {
        y = options.y;
        x = options.x;
        animated = options.animated;
      }

      if (_this._scrollViewRef == null) {
        return;
      }

      _ScrollViewCommands.default.scrollTo(_this._scrollViewRef, x || 0, y || 0, animated !== false);
    };

    _this.scrollToEnd = function (options) {
      var animated = (options && options.animated) !== false;

      if (_this._scrollViewRef == null) {
        return;
      }

      _ScrollViewCommands.default.scrollToEnd(_this._scrollViewRef, animated);
    };

    _this.flashScrollIndicators = function () {
      if (_this._scrollViewRef == null) {
        return;
      }

      _ScrollViewCommands.default.flashScrollIndicators(_this._scrollViewRef);
    };

    _this.scrollResponderScrollNativeHandleToKeyboard = function (nodeHandle, additionalOffset, preventNegativeScrollOffset) {
      _this._additionalScrollOffset = additionalOffset || 0;
      _this._preventNegativeScrollOffset = !!preventNegativeScrollOffset;

      if (_this._innerViewRef == null) {
        return;
      }

      if (typeof nodeHandle === 'number') {
        _UIManager.default.measureLayout(nodeHandle, _ReactNative.default.findNodeHandle((0, _assertThisInitialized2.default)(_this)), _this._textInputFocusError, _this._inputMeasureAndScrollToKeyboard);
      } else {
        nodeHandle.measureLayout(_this._innerViewRef, _this._inputMeasureAndScrollToKeyboard, _this._textInputFocusError);
      }
    };

    _this.scrollResponderZoomTo = function (rect, animated) {
      (0, _invariant.default)(_Platform.default.OS === 'ios', 'zoomToRect is not implemented');

      if ('animated' in rect) {
        _this._animated = rect.animated;
        delete rect.animated;
      } else if (typeof animated !== 'undefined') {
        console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead');
      }

      if (_this._scrollViewRef == null) {
        return;
      }

      _ScrollViewCommands.default.zoomToRect(_this._scrollViewRef, rect, animated !== false);
    };

    _this._inputMeasureAndScrollToKeyboard = function (left, top, width, height) {
      var keyboardScreenY = _Dimensions.default.get('window').height;

      var scrollTextInputIntoVisibleRect = function scrollTextInputIntoVisibleRect() {
        if (_this._keyboardWillOpenTo != null) {
          keyboardScreenY = _this._keyboardWillOpenTo.endCoordinates.screenY;
        }

        var scrollOffsetY = top - keyboardScreenY + height + _this._additionalScrollOffset;

        if (_this._preventNegativeScrollOffset === true) {
          scrollOffsetY = Math.max(0, scrollOffsetY);
        }

        _this.scrollTo({
          x: 0,
          y: scrollOffsetY,
          animated: true
        });

        _this._additionalScrollOffset = 0;
        _this._preventNegativeScrollOffset = false;
      };

      if (_this._keyboardWillOpenTo == null) {
        setTimeout(function () {
          scrollTextInputIntoVisibleRect();
        }, 0);
      } else {
        scrollTextInputIntoVisibleRect();
      }
    };

    _this._handleScroll = function (e) {
      if (__DEV__) {
        if (_this.props.onScroll && _this.props.scrollEventThrottle == null && _Platform.default.OS === 'ios') {
          console.log('You specified `onScroll` on a <ScrollView> but not ' + '`scrollEventThrottle`. You will only receive one event. ' + 'Using `16` you get all the events but be aware that it may ' + "cause frame drops, use a bigger number if you don't need as " + 'much precision.');
        }
      }

      if (_Platform.default.OS === 'android') {
        if (_this.props.keyboardDismissMode === 'on-drag' && _this._isTouching) {
          (0, _dismissKeyboard.default)();
        }
      }

      _this._observedScrollSinceBecomingResponder = true;
      _this.props.onScroll && _this.props.onScroll(e);
    };

    _this._handleLayout = function (e) {
      if (_this.props.invertStickyHeaders === true) {
        _this.setState({
          layoutHeight: e.nativeEvent.layout.height
        });
      }

      if (_this.props.onLayout) {
        _this.props.onLayout(e);
      }
    };

    _this._handleContentOnLayout = function (e) {
      var _e$nativeEvent$layout = e.nativeEvent.layout,
          width = _e$nativeEvent$layout.width,
          height = _e$nativeEvent$layout.height;
      _this.props.onContentSizeChange && _this.props.onContentSizeChange(width, height);
    };

    _this._scrollViewRef = null;
    _this._innerViewRef = null;
    _this._setInnerViewRef = (0, _setAndForwardRef.default)({
      getForwardedRef: function getForwardedRef() {
        return _this.props.innerViewRef;
      },
      setLocalRef: function setLocalRef(ref) {
        _this._innerViewRef = ref;
      }
    });

    _this.scrollResponderKeyboardWillShow = function (e) {
      _this._keyboardWillOpenTo = e;
      _this.props.onKeyboardWillShow && _this.props.onKeyboardWillShow(e);
    };

    _this.scrollResponderKeyboardWillHide = function (e) {
      _this._keyboardWillOpenTo = null;
      _this.props.onKeyboardWillHide && _this.props.onKeyboardWillHide(e);
    };

    _this.scrollResponderKeyboardDidShow = function (e) {
      if (e) {
        _this._keyboardWillOpenTo = e;
      }

      _this.props.onKeyboardDidShow && _this.props.onKeyboardDidShow(e);
    };

    _this.scrollResponderKeyboardDidHide = function (e) {
      _this._keyboardWillOpenTo = null;
      _this.props.onKeyboardDidHide && _this.props.onKeyboardDidHide(e);
    };

    _this._handleMomentumScrollBegin = function (e) {
      _this._lastMomentumScrollBeginTime = global.performance.now();
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };

    _this._handleMomentumScrollEnd = function (e) {
      _FrameRateLogger.default.endScroll();

      _this._lastMomentumScrollEndTime = global.performance.now();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };

    _this._handleScrollBeginDrag = function (e) {
      _FrameRateLogger.default.beginScroll();

      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };

    _this._handleScrollEndDrag = function (e) {
      var velocity = e.nativeEvent.velocity;

      if (!_this._isAnimating() && (!velocity || velocity.x === 0 && velocity.y === 0)) {
        _FrameRateLogger.default.endScroll();
      }

      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };

    _this._isAnimating = function () {
      var now = global.performance.now();
      var timeSinceLastMomentumScrollEnd = now - _this._lastMomentumScrollEndTime;
      var isAnimating = timeSinceLastMomentumScrollEnd < IS_ANIMATING_TOUCH_START_THRESHOLD_MS || _this._lastMomentumScrollEndTime < _this._lastMomentumScrollBeginTime;
      return isAnimating;
    };

    _this._handleResponderGrant = function (e) {
      _this._observedScrollSinceBecomingResponder = false;
      _this.props.onResponderGrant && _this.props.onResponderGrant(e);
      _this._becameResponderWhileAnimating = _this._isAnimating();
    };

    _this._handleResponderReject = function () {};

    _this._handleResponderRelease = function (e) {
      _this._isTouching = e.nativeEvent.touches.length !== 0;
      _this.props.onResponderRelease && _this.props.onResponderRelease(e);

      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }

        return;
      }

      var currentlyFocusedTextInput = _TextInputState.default.currentlyFocusedInput();

      if (_this.props.keyboardShouldPersistTaps !== true && _this.props.keyboardShouldPersistTaps !== 'always' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedTextInput && !_this._observedScrollSinceBecomingResponder && !_this._becameResponderWhileAnimating) {
        _TextInputState.default.blurTextInput(currentlyFocusedTextInput);
      }
    };

    _this._handleResponderTerminationRequest = function () {
      return !_this._observedScrollSinceBecomingResponder;
    };

    _this._handleScrollShouldSetResponder = function () {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }

      return _this._isTouching;
    };

    _this._handleStartShouldSetResponder = function (e) {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }

      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();

      if (_this.props.keyboardShouldPersistTaps === 'handled' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedInput) {
        return true;
      }

      return false;
    };

    _this._handleStartShouldSetResponderCapture = function (e) {
      if (_this._isAnimating()) {
        return true;
      }

      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }

      var keyboardShouldPersistTaps = _this.props.keyboardShouldPersistTaps;
      var keyboardNeverPersistTaps = !keyboardShouldPersistTaps || keyboardShouldPersistTaps === 'never';

      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }

        return false;
      }

      if (keyboardNeverPersistTaps && _this._keyboardIsDismissible() && e.target != null && !_TextInputState.default.isTextInput(e.target)) {
        return true;
      }

      return false;
    };

    _this._keyboardIsDismissible = function () {
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();

      var hasFocusedTextInput = currentlyFocusedInput != null && _TextInputState.default.isTextInput(currentlyFocusedInput);

      var softKeyboardMayBeOpen = _this._keyboardWillOpenTo != null || _Platform.default.OS === 'android';
      return hasFocusedTextInput && softKeyboardMayBeOpen;
    };

    _this._handleTouchEnd = function (e) {
      var nativeEvent = e.nativeEvent;
      _this._isTouching = nativeEvent.touches.length !== 0;
      _this.props.onTouchEnd && _this.props.onTouchEnd(e);
    };

    _this._handleTouchCancel = function (e) {
      _this._isTouching = false;
      _this.props.onTouchCancel && _this.props.onTouchCancel(e);
    };

    _this._handleTouchStart = function (e) {
      _this._isTouching = true;
      _this.props.onTouchStart && _this.props.onTouchStart(e);
    };

    _this._handleTouchMove = function (e) {
      _this.props.onTouchMove && _this.props.onTouchMove(e);
    };

    _this._scrollAnimatedValue = new _AnimatedImplementation.default.Value((_this$props$contentOf = (_this$props$contentOf2 = _this.props.contentOffset) == null ? void 0 : _this$props$contentOf2.y) != null ? _this$props$contentOf : 0);

    _this._scrollAnimatedValue.setOffset((_this$props$contentIn = (_this$props$contentIn2 = _this.props.contentInset) == null ? void 0 : _this$props$contentIn2.top) != null ? _this$props$contentIn : 0);

    return _this;
  }

  (0, _createClass2.default)(ScrollView, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (typeof this.props.keyboardShouldPersistTaps === 'boolean') {
        console.warn("'keyboardShouldPersistTaps={" + (this.props.keyboardShouldPersistTaps === true ? 'true' : 'false') + "}' is deprecated. " + ("Use 'keyboardShouldPersistTaps=\"" + (this.props.keyboardShouldPersistTaps ? 'always' : 'never') + "\"' instead"));
      }

      this._keyboardWillOpenTo = null;
      this._additionalScrollOffset = 0;
      this._subscriptionKeyboardWillShow = _Keyboard.default.addListener('keyboardWillShow', this.scrollResponderKeyboardWillShow);
      this._subscriptionKeyboardWillHide = _Keyboard.default.addListener('keyboardWillHide', this.scrollResponderKeyboardWillHide);
      this._subscriptionKeyboardDidShow = _Keyboard.default.addListener('keyboardDidShow', this.scrollResponderKeyboardDidShow);
      this._subscriptionKeyboardDidHide = _Keyboard.default.addListener('keyboardDidHide', this.scrollResponderKeyboardDidHide);

      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var prevContentInsetTop = prevProps.contentInset ? prevProps.contentInset.top : 0;
      var newContentInsetTop = this.props.contentInset ? this.props.contentInset.top : 0;

      if (prevContentInsetTop !== newContentInsetTop) {
        this._scrollAnimatedValue.setOffset(newContentInsetTop || 0);
      }

      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._subscriptionKeyboardWillShow != null) {
        this._subscriptionKeyboardWillShow.remove();
      }

      if (this._subscriptionKeyboardWillHide != null) {
        this._subscriptionKeyboardWillHide.remove();
      }

      if (this._subscriptionKeyboardDidShow != null) {
        this._subscriptionKeyboardDidShow.remove();
      }

      if (this._subscriptionKeyboardDidHide != null) {
        this._subscriptionKeyboardDidHide.remove();
      }

      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
    }
  }, {
    key: "_textInputFocusError",
    value: function _textInputFocusError() {
      console.warn('Error measuring text field.');
    }
  }, {
    key: "_getKeyForIndex",
    value: function _getKeyForIndex(index, childArray) {
      var child = childArray[index];
      return child && child.key;
    }
  }, {
    key: "_updateAnimatedNodeAttachment",
    value: function _updateAnimatedNodeAttachment() {
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }

      if (this.props.stickyHeaderIndices && this.props.stickyHeaderIndices.length > 0) {
        this._scrollAnimatedValueAttachment = _AnimatedImplementation.default.attachNativeEvent(this._scrollViewRef, 'onScroll', [{
          nativeEvent: {
            contentOffset: {
              y: this._scrollAnimatedValue
            }
          }
        }]);
      }
    }
  }, {
    key: "_setStickyHeaderRef",
    value: function _setStickyHeaderRef(key, ref) {
      if (ref) {
        this._stickyHeaderRefs.set(key, ref);
      } else {
        this._stickyHeaderRefs.delete(key);
      }
    }
  }, {
    key: "_onStickyHeaderLayout",
    value: function _onStickyHeaderLayout(index, event, key) {
      var stickyHeaderIndices = this.props.stickyHeaderIndices;

      if (!stickyHeaderIndices) {
        return;
      }

      var childArray = React.Children.toArray(this.props.children);

      if (key !== this._getKeyForIndex(index, childArray)) {
        return;
      }

      var layoutY = event.nativeEvent.layout.y;

      this._headerLayoutYs.set(key, layoutY);

      var indexOfIndex = stickyHeaderIndices.indexOf(index);
      var previousHeaderIndex = stickyHeaderIndices[indexOfIndex - 1];

      if (previousHeaderIndex != null) {
        var previousHeader = this._stickyHeaderRefs.get(this._getKeyForIndex(previousHeaderIndex, childArray));

        previousHeader && previousHeader.setNextHeaderY && previousHeader.setNextHeaderY(layoutY);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _ref2 = this.props.horizontal === true ? NativeHorizontalScrollViewTuple : NativeVerticalScrollViewTuple,
          _ref3 = (0, _slicedToArray2.default)(_ref2, 2),
          NativeDirectionalScrollView = _ref3[0],
          NativeDirectionalScrollContentView = _ref3[1];

      var contentContainerStyle = [this.props.horizontal === true && styles.contentContainerHorizontal, this.props.contentContainerStyle];

      if (__DEV__ && this.props.style !== undefined) {
        var style = (0, _flattenStyle.default)(this.props.style);
        var childLayoutProps = ['alignItems', 'justifyContent'].filter(function (prop) {
          return style && style[prop] !== undefined;
        });
        (0, _invariant.default)(childLayoutProps.length === 0, 'ScrollView child layout (' + JSON.stringify(childLayoutProps) + ') must be applied through the contentContainerStyle prop.');
      }

      var contentSizeChangeProps = this.props.onContentSizeChange == null ? null : {
        onLayout: this._handleContentOnLayout
      };
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      var children = this.props.children;

      if (stickyHeaderIndices != null && stickyHeaderIndices.length > 0) {
        var childArray = React.Children.toArray(this.props.children);
        children = childArray.map(function (child, index) {
          var indexOfIndex = child ? stickyHeaderIndices.indexOf(index) : -1;

          if (indexOfIndex > -1) {
            var key = child.key;
            var nextIndex = stickyHeaderIndices[indexOfIndex + 1];
            var StickyHeaderComponent = _this2.props.StickyHeaderComponent || _ScrollViewStickyHeader.default;
            return React.createElement(StickyHeaderComponent, {
              key: key,
              nativeID: 'StickyHeader-' + key,
              ref: function ref(_ref4) {
                return _this2._setStickyHeaderRef(key, _ref4);
              },
              nextHeaderLayoutY: _this2._headerLayoutYs.get(_this2._getKeyForIndex(nextIndex, childArray)),
              onLayout: function onLayout(event) {
                return _this2._onStickyHeaderLayout(index, event, key);
              },
              scrollAnimatedValue: _this2._scrollAnimatedValue,
              inverted: _this2.props.invertStickyHeaders,
              hiddenOnScroll: _this2.props.stickyHeaderHiddenOnScroll,
              scrollViewHeight: _this2.state.layoutHeight
            }, child);
          } else {
            return child;
          }
        });
      }

      children = React.createElement(_ScrollViewContext.default.Provider, {
        value: this.props.horizontal === true ? _ScrollViewContext.HORIZONTAL : _ScrollViewContext.VERTICAL
      }, children);
      var hasStickyHeaders = Array.isArray(stickyHeaderIndices) && stickyHeaderIndices.length > 0;
      var contentContainer = React.createElement(NativeDirectionalScrollContentView, (0, _extends2.default)({}, contentSizeChangeProps, {
        ref: this._setInnerViewRef,
        style: contentContainerStyle,
        removeClippedSubviews: _Platform.default.OS === 'android' && hasStickyHeaders ? false : this.props.removeClippedSubviews,
        collapsable: false
      }), children);
      var alwaysBounceHorizontal = this.props.alwaysBounceHorizontal !== undefined ? this.props.alwaysBounceHorizontal : this.props.horizontal;
      var alwaysBounceVertical = this.props.alwaysBounceVertical !== undefined ? this.props.alwaysBounceVertical : !this.props.horizontal;
      var baseStyle = this.props.horizontal === true ? styles.baseHorizontal : styles.baseVertical;
      var props = (0, _extends2.default)({}, this.props, {
        alwaysBounceHorizontal: alwaysBounceHorizontal,
        alwaysBounceVertical: alwaysBounceVertical,
        style: _StyleSheet.default.compose(baseStyle, this.props.style),
        onContentSizeChange: null,
        onLayout: this._handleLayout,
        onMomentumScrollBegin: this._handleMomentumScrollBegin,
        onMomentumScrollEnd: this._handleMomentumScrollEnd,
        onResponderGrant: this._handleResponderGrant,
        onResponderReject: this._handleResponderReject,
        onResponderRelease: this._handleResponderRelease,
        onResponderTerminationRequest: this._handleResponderTerminationRequest,
        onScrollBeginDrag: this._handleScrollBeginDrag,
        onScrollEndDrag: this._handleScrollEndDrag,
        onScrollShouldSetResponder: this._handleScrollShouldSetResponder,
        onStartShouldSetResponder: this._handleStartShouldSetResponder,
        onStartShouldSetResponderCapture: this._handleStartShouldSetResponderCapture,
        onTouchEnd: this._handleTouchEnd,
        onTouchMove: this._handleTouchMove,
        onTouchStart: this._handleTouchStart,
        onTouchCancel: this._handleTouchCancel,
        onScroll: this._handleScroll,
        scrollEventThrottle: hasStickyHeaders ? 1 : this.props.scrollEventThrottle,
        sendMomentumEvents: this.props.onMomentumScrollBegin || this.props.onMomentumScrollEnd ? true : false,
        snapToStart: this.props.snapToStart !== false,
        snapToEnd: this.props.snapToEnd !== false,
        pagingEnabled: _Platform.default.select({
          ios: this.props.pagingEnabled === true && this.props.snapToInterval == null && this.props.snapToOffsets == null,
          android: this.props.pagingEnabled === true || this.props.snapToInterval != null || this.props.snapToOffsets != null
        })
      });
      var decelerationRate = this.props.decelerationRate;

      if (decelerationRate != null) {
        props.decelerationRate = (0, _processDecelerationRate.default)(decelerationRate);
      }

      var refreshControl = this.props.refreshControl;

      if (refreshControl) {
        if (_Platform.default.OS === 'ios') {
          return React.createElement(NativeDirectionalScrollView, (0, _extends2.default)({}, props, {
            ref: this._setNativeRef
          }), refreshControl, contentContainer);
        } else if (_Platform.default.OS === 'android') {
          var _splitLayoutProps = (0, _splitLayoutProps2.default)((0, _flattenStyle.default)(props.style)),
              outer = _splitLayoutProps.outer,
              inner = _splitLayoutProps.inner;

          return React.cloneElement(refreshControl, {
            style: _StyleSheet.default.compose(baseStyle, outer)
          }, React.createElement(NativeDirectionalScrollView, (0, _extends2.default)({}, props, {
            style: _StyleSheet.default.compose(baseStyle, inner),
            ref: this._setNativeRef
          }), contentContainer));
        }
      }

      return React.createElement(NativeDirectionalScrollView, (0, _extends2.default)({}, props, {
        ref: this._setNativeRef
      }), contentContainer);
    }
  }]);
  return ScrollView;
}(React.Component);

ScrollView.Context = _ScrollViewContext.default;

var styles = _StyleSheet.default.create({
  baseVertical: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'column',
    overflow: 'scroll'
  },
  baseHorizontal: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'row',
    overflow: 'scroll'
  },
  contentContainerHorizontal: {
    flexDirection: 'row'
  }
});

function Wrapper(props, ref) {
  return React.createElement(ScrollView, (0, _extends2.default)({}, props, {
    scrollViewRef: ref
  }));
}

Wrapper.displayName = 'ScrollView';
var ForwardedScrollView = React.forwardRef(Wrapper);
ForwardedScrollView.Context = _ScrollViewContext.default;
ForwardedScrollView.displayName = 'ScrollView';
module.exports = ForwardedScrollView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiUGxhdGZvcm0iLCJPUyIsIk5hdGl2ZUhvcml6b250YWxTY3JvbGxWaWV3VHVwbGUiLCJBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQiLCJBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IiwiTmF0aXZlVmVydGljYWxTY3JvbGxWaWV3VHVwbGUiLCJTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IiwiVmlldyIsIlNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IiwiSVNfQU5JTUFUSU5HX1RPVUNIX1NUQVJUX1RIUkVTSE9MRF9NUyIsIlNjcm9sbFZpZXciLCJwcm9wcyIsIl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCIsIl9zdGlja3lIZWFkZXJSZWZzIiwiTWFwIiwiX2hlYWRlckxheW91dFlzIiwiX2tleWJvYXJkV2lsbE9wZW5UbyIsIl9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0IiwiX2lzVG91Y2hpbmciLCJfbGFzdE1vbWVudHVtU2Nyb2xsQmVnaW5UaW1lIiwiX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWUiLCJfb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyIiwiX2JlY2FtZVJlc3BvbmRlcldoaWxlQW5pbWF0aW5nIiwiX3ByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldCIsIl9hbmltYXRlZCIsIl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxTaG93IiwiX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbEhpZGUiLCJfc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRTaG93IiwiX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkSGlkZSIsInN0YXRlIiwibGF5b3V0SGVpZ2h0IiwiX3NldE5hdGl2ZVJlZiIsInNldEFuZEZvcndhcmRSZWYiLCJnZXRGb3J3YXJkZWRSZWYiLCJzY3JvbGxWaWV3UmVmIiwic2V0TG9jYWxSZWYiLCJyZWYiLCJfc2Nyb2xsVmlld1JlZiIsImdldFNjcm9sbFJlc3BvbmRlciIsImdldFNjcm9sbGFibGVOb2RlIiwiZ2V0SW5uZXJWaWV3Tm9kZSIsImdldElubmVyVmlld1JlZiIsImdldE5hdGl2ZVNjcm9sbFJlZiIsInNjcm9sbFRvIiwic2Nyb2xsVG9FbmQiLCJmbGFzaFNjcm9sbEluZGljYXRvcnMiLCJzY3JvbGxSZXNwb25kZXJab29tVG8iLCJzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkIiwiUmVhY3ROYXRpdmUiLCJmaW5kTm9kZUhhbmRsZSIsIl9pbm5lclZpZXdSZWYiLCJvcHRpb25zIiwiZGVwcmVjYXRlZFgiLCJkZXByZWNhdGVkQW5pbWF0ZWQiLCJ4IiwieSIsImFuaW1hdGVkIiwiY29uc29sZSIsIndhcm4iLCJDb21tYW5kcyIsIm5vZGVIYW5kbGUiLCJhZGRpdGlvbmFsT2Zmc2V0IiwicHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0IiwiVUlNYW5hZ2VyIiwibWVhc3VyZUxheW91dCIsIl90ZXh0SW5wdXRGb2N1c0Vycm9yIiwiX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmQiLCJyZWN0IiwiaW52YXJpYW50Iiwiem9vbVRvUmVjdCIsImxlZnQiLCJ0b3AiLCJ3aWR0aCIsImhlaWdodCIsImtleWJvYXJkU2NyZWVuWSIsIkRpbWVuc2lvbnMiLCJnZXQiLCJzY3JvbGxUZXh0SW5wdXRJbnRvVmlzaWJsZVJlY3QiLCJlbmRDb29yZGluYXRlcyIsInNjcmVlblkiLCJzY3JvbGxPZmZzZXRZIiwiTWF0aCIsIm1heCIsInNldFRpbWVvdXQiLCJfaGFuZGxlU2Nyb2xsIiwiZSIsIl9fREVWX18iLCJvblNjcm9sbCIsInNjcm9sbEV2ZW50VGhyb3R0bGUiLCJsb2ciLCJrZXlib2FyZERpc21pc3NNb2RlIiwiZGlzbWlzc0tleWJvYXJkIiwiX2hhbmRsZUxheW91dCIsImludmVydFN0aWNreUhlYWRlcnMiLCJzZXRTdGF0ZSIsIm5hdGl2ZUV2ZW50IiwibGF5b3V0Iiwib25MYXlvdXQiLCJfaGFuZGxlQ29udGVudE9uTGF5b3V0Iiwib25Db250ZW50U2l6ZUNoYW5nZSIsIl9zZXRJbm5lclZpZXdSZWYiLCJpbm5lclZpZXdSZWYiLCJzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxTaG93Iiwib25LZXlib2FyZFdpbGxTaG93Iiwic2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsSGlkZSIsIm9uS2V5Ym9hcmRXaWxsSGlkZSIsInNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkU2hvdyIsIm9uS2V5Ym9hcmREaWRTaG93Iiwic2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRIaWRlIiwib25LZXlib2FyZERpZEhpZGUiLCJfaGFuZGxlTW9tZW50dW1TY3JvbGxCZWdpbiIsImdsb2JhbCIsInBlcmZvcm1hbmNlIiwibm93Iiwib25Nb21lbnR1bVNjcm9sbEJlZ2luIiwiX2hhbmRsZU1vbWVudHVtU2Nyb2xsRW5kIiwiRnJhbWVSYXRlTG9nZ2VyIiwiZW5kU2Nyb2xsIiwib25Nb21lbnR1bVNjcm9sbEVuZCIsIl9oYW5kbGVTY3JvbGxCZWdpbkRyYWciLCJiZWdpblNjcm9sbCIsIm9uU2Nyb2xsQmVnaW5EcmFnIiwiX2hhbmRsZVNjcm9sbEVuZERyYWciLCJ2ZWxvY2l0eSIsIl9pc0FuaW1hdGluZyIsIm9uU2Nyb2xsRW5kRHJhZyIsInRpbWVTaW5jZUxhc3RNb21lbnR1bVNjcm9sbEVuZCIsImlzQW5pbWF0aW5nIiwiX2hhbmRsZVJlc3BvbmRlckdyYW50Iiwib25SZXNwb25kZXJHcmFudCIsIl9oYW5kbGVSZXNwb25kZXJSZWplY3QiLCJfaGFuZGxlUmVzcG9uZGVyUmVsZWFzZSIsInRvdWNoZXMiLCJsZW5ndGgiLCJvblJlc3BvbmRlclJlbGVhc2UiLCJ0YXJnZXQiLCJlcnJvciIsImN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQiLCJUZXh0SW5wdXRTdGF0ZSIsImN1cnJlbnRseUZvY3VzZWRJbnB1dCIsImtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMiLCJfa2V5Ym9hcmRJc0Rpc21pc3NpYmxlIiwiYmx1clRleHRJbnB1dCIsIl9oYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJfaGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyIiwiZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXIiLCJfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlIiwia2V5Ym9hcmROZXZlclBlcnNpc3RUYXBzIiwiaXNUZXh0SW5wdXQiLCJoYXNGb2N1c2VkVGV4dElucHV0Iiwic29mdEtleWJvYXJkTWF5QmVPcGVuIiwiX2hhbmRsZVRvdWNoRW5kIiwib25Ub3VjaEVuZCIsIl9oYW5kbGVUb3VjaENhbmNlbCIsIm9uVG91Y2hDYW5jZWwiLCJfaGFuZGxlVG91Y2hTdGFydCIsIm9uVG91Y2hTdGFydCIsIl9oYW5kbGVUb3VjaE1vdmUiLCJvblRvdWNoTW92ZSIsIl9zY3JvbGxBbmltYXRlZFZhbHVlIiwiQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiIsIlZhbHVlIiwiY29udGVudE9mZnNldCIsInNldE9mZnNldCIsImNvbnRlbnRJbnNldCIsIktleWJvYXJkIiwiYWRkTGlzdGVuZXIiLCJfdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCIsInByZXZQcm9wcyIsInByZXZDb250ZW50SW5zZXRUb3AiLCJuZXdDb250ZW50SW5zZXRUb3AiLCJyZW1vdmUiLCJkZXRhY2giLCJpbmRleCIsImNoaWxkQXJyYXkiLCJjaGlsZCIsImtleSIsInN0aWNreUhlYWRlckluZGljZXMiLCJhdHRhY2hOYXRpdmVFdmVudCIsInNldCIsImRlbGV0ZSIsImV2ZW50IiwiUmVhY3QiLCJDaGlsZHJlbiIsInRvQXJyYXkiLCJjaGlsZHJlbiIsIl9nZXRLZXlGb3JJbmRleCIsImxheW91dFkiLCJpbmRleE9mSW5kZXgiLCJpbmRleE9mIiwicHJldmlvdXNIZWFkZXJJbmRleCIsInByZXZpb3VzSGVhZGVyIiwic2V0TmV4dEhlYWRlclkiLCJob3Jpem9udGFsIiwiTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3IiwiTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxDb250ZW50VmlldyIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsInN0eWxlcyIsImNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsIiwic3R5bGUiLCJ1bmRlZmluZWQiLCJmbGF0dGVuU3R5bGUiLCJjaGlsZExheW91dFByb3BzIiwiZmlsdGVyIiwicHJvcCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb250ZW50U2l6ZUNoYW5nZVByb3BzIiwibWFwIiwibmV4dEluZGV4IiwiU3RpY2t5SGVhZGVyQ29tcG9uZW50IiwiU2Nyb2xsVmlld1N0aWNreUhlYWRlciIsIl9zZXRTdGlja3lIZWFkZXJSZWYiLCJfb25TdGlja3lIZWFkZXJMYXlvdXQiLCJzdGlja3lIZWFkZXJIaWRkZW5PblNjcm9sbCIsIkhPUklaT05UQUwiLCJWRVJUSUNBTCIsImhhc1N0aWNreUhlYWRlcnMiLCJBcnJheSIsImlzQXJyYXkiLCJjb250ZW50Q29udGFpbmVyIiwicmVtb3ZlQ2xpcHBlZFN1YnZpZXdzIiwiYWx3YXlzQm91bmNlSG9yaXpvbnRhbCIsImFsd2F5c0JvdW5jZVZlcnRpY2FsIiwiYmFzZVN0eWxlIiwiYmFzZUhvcml6b250YWwiLCJiYXNlVmVydGljYWwiLCJTdHlsZVNoZWV0IiwiY29tcG9zZSIsIm9uUmVzcG9uZGVyUmVqZWN0Iiwib25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJvblNjcm9sbFNob3VsZFNldFJlc3BvbmRlciIsIm9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSIsInNlbmRNb21lbnR1bUV2ZW50cyIsInNuYXBUb1N0YXJ0Iiwic25hcFRvRW5kIiwicGFnaW5nRW5hYmxlZCIsInNlbGVjdCIsImlvcyIsInNuYXBUb0ludGVydmFsIiwic25hcFRvT2Zmc2V0cyIsImFuZHJvaWQiLCJkZWNlbGVyYXRpb25SYXRlIiwicHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUiLCJyZWZyZXNoQ29udHJvbCIsInNwbGl0TGF5b3V0UHJvcHMiLCJvdXRlciIsImlubmVyIiwiY2xvbmVFbGVtZW50IiwiQ29tcG9uZW50IiwiQ29udGV4dCIsIlNjcm9sbFZpZXdDb250ZXh0IiwiY3JlYXRlIiwiZmxleEdyb3ciLCJmbGV4U2hyaW5rIiwiZmxleERpcmVjdGlvbiIsIm92ZXJmbG93IiwiV3JhcHBlciIsImRpc3BsYXlOYW1lIiwiRm9yd2FyZGVkU2Nyb2xsVmlldyIsImZvcndhcmRSZWYiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiU2Nyb2xsVmlldy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmb3JtYXRcbiAqIEBmbG93IHN0cmljdC1sb2NhbFxuICovXG5cbmltcG9ydCBBbmltYXRlZEltcGxlbWVudGF0aW9uIGZyb20gJy4uLy4uL0FuaW1hdGVkL0FuaW1hdGVkSW1wbGVtZW50YXRpb24nO1xuaW1wb3J0IERpbWVuc2lvbnMgZnJvbSAnLi4vLi4vVXRpbGl0aWVzL0RpbWVuc2lvbnMnO1xuaW1wb3J0IFBsYXRmb3JtIGZyb20gJy4uLy4uL1V0aWxpdGllcy9QbGF0Zm9ybSc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3ROYXRpdmUgZnJvbSAnLi4vLi4vUmVuZGVyZXIvc2hpbXMvUmVhY3ROYXRpdmUnO1xucmVxdWlyZSgnLi4vLi4vUmVuZGVyZXIvc2hpbXMvUmVhY3ROYXRpdmUnKTsgLy8gRm9yY2Ugc2lkZSBlZmZlY3RzIHRvIHByZXZlbnQgVDU1NzQ0MzExXG5pbXBvcnQgU2Nyb2xsVmlld1N0aWNreUhlYWRlciBmcm9tICcuL1Njcm9sbFZpZXdTdGlja3lIZWFkZXInO1xuaW1wb3J0IFN0eWxlU2hlZXQgZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCBWaWV3IGZyb20gJy4uL1ZpZXcvVmlldyc7XG5pbXBvcnQgVUlNYW5hZ2VyIGZyb20gJy4uLy4uL1JlYWN0TmF0aXZlL1VJTWFuYWdlcic7XG5pbXBvcnQgS2V5Ym9hcmQgZnJvbSAnLi4vS2V5Ym9hcmQvS2V5Ym9hcmQnO1xuaW1wb3J0IEZyYW1lUmF0ZUxvZ2dlciBmcm9tICcuLi8uLi9JbnRlcmFjdGlvbi9GcmFtZVJhdGVMb2dnZXInO1xuaW1wb3J0IFRleHRJbnB1dFN0YXRlIGZyb20gJy4uL1RleHRJbnB1dC9UZXh0SW5wdXRTdGF0ZSc7XG5cbmltcG9ydCBkaXNtaXNzS2V5Ym9hcmQgZnJvbSAnLi4vLi4vVXRpbGl0aWVzL2Rpc21pc3NLZXlib2FyZCc7XG5pbXBvcnQgZmxhdHRlblN0eWxlIGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvZmxhdHRlblN0eWxlJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50JztcbmltcG9ydCBwcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSBmcm9tICcuL3Byb2Nlc3NEZWNlbGVyYXRpb25SYXRlJztcbmltcG9ydCBzcGxpdExheW91dFByb3BzIGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvc3BsaXRMYXlvdXRQcm9wcyc7XG5pbXBvcnQgc2V0QW5kRm9yd2FyZFJlZiBmcm9tICcuLi8uLi9VdGlsaXRpZXMvc2V0QW5kRm9yd2FyZFJlZic7XG5cbmltcG9ydCB0eXBlIHtFZGdlSW5zZXRzUHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9FZGdlSW5zZXRzUHJvcFR5cGUnO1xuaW1wb3J0IHR5cGUge1BvaW50UHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9Qb2ludFByb3BUeXBlJztcbmltcG9ydCB0eXBlIHtWaWV3U3R5bGVQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IHR5cGUge0NvbG9yVmFsdWV9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7XG4gIFByZXNzRXZlbnQsXG4gIFNjcm9sbEV2ZW50LFxuICBMYXlvdXRFdmVudCxcbn0gZnJvbSAnLi4vLi4vVHlwZXMvQ29yZUV2ZW50VHlwZXMnO1xuaW1wb3J0IHR5cGUge0hvc3RDb21wb25lbnR9IGZyb20gJy4uLy4uL1JlbmRlcmVyL3NoaW1zL1JlYWN0TmF0aXZlVHlwZXMnO1xuaW1wb3J0IHR5cGUge1ZpZXdQcm9wc30gZnJvbSAnLi4vVmlldy9WaWV3UHJvcFR5cGVzJztcbmltcG9ydCBTY3JvbGxWaWV3Q29udGV4dCwge0hPUklaT05UQUwsIFZFUlRJQ0FMfSBmcm9tICcuL1Njcm9sbFZpZXdDb250ZXh0JztcbmltcG9ydCB0eXBlIHtQcm9wcyBhcyBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyUHJvcHN9IGZyb20gJy4vU2Nyb2xsVmlld1N0aWNreUhlYWRlcic7XG5pbXBvcnQgdHlwZSB7S2V5Ym9hcmRFdmVudH0gZnJvbSAnLi4vS2V5Ym9hcmQvS2V5Ym9hcmQnO1xuaW1wb3J0IHR5cGUge0V2ZW50U3Vic2NyaXB0aW9ufSBmcm9tICcuLi8uLi92ZW5kb3IvZW1pdHRlci9FdmVudEVtaXR0ZXInO1xuXG5pbXBvcnQgQ29tbWFuZHMgZnJvbSAnLi9TY3JvbGxWaWV3Q29tbWFuZHMnO1xuaW1wb3J0IEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9BbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9BbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQnO1xuaW1wb3J0IFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IGZyb20gJy4vU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQnO1xuaW1wb3J0IFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9TY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50JztcblxuY29uc3Qge05hdGl2ZUhvcml6b250YWxTY3JvbGxWaWV3VHVwbGUsIE5hdGl2ZVZlcnRpY2FsU2Nyb2xsVmlld1R1cGxlfSA9XG4gIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCdcbiAgICA/IHtcbiAgICAgICAgTmF0aXZlSG9yaXpvbnRhbFNjcm9sbFZpZXdUdXBsZTogW1xuICAgICAgICAgIEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgICBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50LFxuICAgICAgICBdLFxuICAgICAgICBOYXRpdmVWZXJ0aWNhbFNjcm9sbFZpZXdUdXBsZTogW1Njcm9sbFZpZXdOYXRpdmVDb21wb25lbnQsIFZpZXddLFxuICAgICAgfVxuICAgIDoge1xuICAgICAgICBOYXRpdmVIb3Jpem9udGFsU2Nyb2xsVmlld1R1cGxlOiBbXG4gICAgICAgICAgU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgICBTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgXSxcbiAgICAgICAgTmF0aXZlVmVydGljYWxTY3JvbGxWaWV3VHVwbGU6IFtcbiAgICAgICAgICBTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50LFxuICAgICAgICAgIFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50LFxuICAgICAgICBdLFxuICAgICAgfTtcblxuLypcbiAqIGlPUyBzY3JvbGwgZXZlbnQgdGltaW5nIG51YW5jZXM6XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKlxuICpcbiAqIFNjcm9sbGluZyB3aXRob3V0IGJvdW5jaW5nLCBpZiB5b3UgdG91Y2ggZG93bjpcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiAxLiBgb25Nb21lbnR1bVNjcm9sbEJlZ2luYCAod2hlbiBhbmltYXRpb24gYmVnaW5zIGFmdGVyIGxldHRpbmcgdXApXG4gKiAgICAuLi4gcGh5c2ljYWwgdG91Y2ggc3RhcnRzIC4uLlxuICogMi4gYG9uVG91Y2hTdGFydENhcHR1cmVgICAgKHdoZW4geW91IHByZXNzIGRvd24gdG8gc3RvcCB0aGUgc2Nyb2xsKVxuICogMy4gYG9uVG91Y2hTdGFydGAgICAgICAgICAgKHNhbWUsIGJ1dCBidWJibGUgcGhhc2UpXG4gKiA0LiBgb25SZXNwb25kZXJSZWxlYXNlYCAgICAod2hlbiBsaWZ0aW5nIHVwIC0geW91IGNvdWxkIHBhdXNlIGZvcmV2ZXIgYmVmb3JlICogbGlmdGluZylcbiAqIDUuIGBvbk1vbWVudHVtU2Nyb2xsRW5kYFxuICpcbiAqXG4gKiBTY3JvbGxpbmcgd2l0aCBib3VuY2luZywgaWYgeW91IHRvdWNoIGRvd246XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogMS4gYG9uTW9tZW50dW1TY3JvbGxCZWdpbmAgKHdoZW4gYW5pbWF0aW9uIGJlZ2lucyBhZnRlciBsZXR0aW5nIHVwKVxuICogICAgLi4uIGJvdW5jZSBiZWdpbnMgLi4uXG4gKiAgICAuLi4gc29tZSB0aW1lIGVsYXBzZXMgLi4uXG4gKiAgICAuLi4gcGh5c2ljYWwgdG91Y2ggZHVyaW5nIGJvdW5jZSAuLi5cbiAqIDIuIGBvbk1vbWVudHVtU2Nyb2xsRW5kYCAgIChNYWtlcyBubyBzZW5zZSB3aHkgdGhpcyBvY2N1cnMgZmlyc3QgZHVyaW5nIGJvdW5jZSlcbiAqIDMuIGBvblRvdWNoU3RhcnRDYXB0dXJlYCAgIChpbW1lZGlhdGVseSBhZnRlciBgb25Nb21lbnR1bVNjcm9sbEVuZGApXG4gKiA0LiBgb25Ub3VjaFN0YXJ0YCAgICAgICAgICAoc2FtZSwgYnV0IGJ1YmJsZSBwaGFzZSlcbiAqIDUuIGBvblRvdWNoRW5kYCAgICAgICAgICAgIChZb3UgY291bGQgaG9sZCB0aGUgdG91Y2ggc3RhcnQgZm9yIGEgbG9uZyB0aW1lKVxuICogNi4gYG9uTW9tZW50dW1TY3JvbGxCZWdpbmAgKFdoZW4gcmVsZWFzaW5nIHRoZSB2aWV3IHN0YXJ0cyBib3VuY2luZyBiYWNrKVxuICpcbiAqIFNvIHdoZW4gd2UgcmVjZWl2ZSBhbiBgb25Ub3VjaFN0YXJ0YCwgaG93IGNhbiB3ZSB0ZWxsIGlmIHdlIGFyZSB0b3VjaGluZ1xuICogKmR1cmluZyogYW4gYW5pbWF0aW9uICh3aGljaCB0aGVuIGNhdXNlcyB0aGUgYW5pbWF0aW9uIHRvIHN0b3ApPyBUaGUgb25seSB3YXlcbiAqIHRvIHRlbGwgaXMgaWYgdGhlIGB0b3VjaFN0YXJ0YCBvY2N1cnJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGVcbiAqIGBvbk1vbWVudHVtU2Nyb2xsRW5kYC5cbiAqXG4gKiBUaGlzIGlzIGFic3RyYWN0ZWQgb3V0IGZvciB5b3UsIHNvIHlvdSBjYW4ganVzdCBjYWxsIHRoaXMuc2Nyb2xsUmVzcG9uZGVySXNBbmltYXRpbmcoKSBpZlxuICogbmVjZXNzYXJ5XG4gKlxuICogYFNjcm9sbFZpZXdgIGFsc28gaW5jbHVkZXMgbG9naWMgZm9yIGJsdXJyaW5nIGEgY3VycmVudGx5IGZvY3VzZWQgaW5wdXRcbiAqIGlmIG9uZSBpcyBmb2N1c2VkIHdoaWxlIHNjcm9sbGluZy4gVGhpcyBpcyBhIG5hdHVyYWwgcGxhY2VcbiAqIHRvIHB1dCB0aGlzIGxvZ2ljIHNpbmNlIGl0IGNhbiBzdXBwb3J0IG5vdCBkaXNtaXNzaW5nIHRoZSBrZXlib2FyZCB3aGlsZVxuICogc2Nyb2xsaW5nLCB1bmxlc3MgYSByZWNvZ25pemVkIFwidGFwXCItbGlrZSBnZXN0dXJlIGhhcyBvY2N1cnJlZC5cbiAqXG4gKiBUaGUgcHVibGljIGxpZmVjeWNsZSBBUEkgaW5jbHVkZXMgZXZlbnRzIGZvciBrZXlib2FyZCBpbnRlcmFjdGlvbiwgcmVzcG9uZGVyXG4gKiBpbnRlcmFjdGlvbiwgYW5kIHNjcm9sbGluZyAoYW1vbmcgb3RoZXJzKS4gVGhlIGtleWJvYXJkIGNhbGxiYWNrc1xuICogYG9uS2V5Ym9hcmRXaWxsL0RpZC8qYCBhcmUgKmdsb2JhbCogZXZlbnRzLCBidXQgYXJlIGludm9rZWQgb24gc2Nyb2xsXG4gKiByZXNwb25kZXIncyBwcm9wcyBzbyB0aGF0IHlvdSBjYW4gZ3VhcmFudGVlIHRoYXQgdGhlIHNjcm9sbCByZXNwb25kZXInc1xuICogaW50ZXJuYWwgc3RhdGUgaGFzIGJlZW4gdXBkYXRlZCBhY2NvcmRpbmdseSAoYW5kIGRldGVybWluaXN0aWNhbGx5KSBieVxuICogdGhlIHRpbWUgdGhlIHByb3BzIGNhbGxiYWNrcyBhcmUgaW52b2tlLiBPdGhlcndpc2UsIHlvdSB3b3VsZCBhbHdheXMgd29uZGVyXG4gKiBpZiB0aGUgc2Nyb2xsIHJlc3BvbmRlciBpcyBjdXJyZW50bHkgaW4gYSBzdGF0ZSB3aGVyZSBpdCByZWNvZ25pemVzIG5ld1xuICoga2V5Ym9hcmQgcG9zaXRpb25zIGV0Yy4gSWYgY29vcmRpbmF0aW5nIHNjcm9sbGluZyB3aXRoIGtleWJvYXJkIG1vdmVtZW50LFxuICogKmFsd2F5cyogdXNlIHRoZXNlIGhvb2tzIGluc3RlYWQgb2YgbGlzdGVuaW5nIHRvIHlvdXIgb3duIGdsb2JhbCBrZXlib2FyZFxuICogZXZlbnRzLlxuICpcbiAqIFB1YmxpYyBrZXlib2FyZCBsaWZlY3ljbGUgQVBJOiAocHJvcHMgY2FsbGJhY2tzKVxuICpcbiAqIFN0YW5kYXJkIEtleWJvYXJkIEFwcGVhcmFuY2UgU2VxdWVuY2U6XG4gKlxuICogICB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsU2hvd1xuICogICB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRTaG93XG4gKlxuICogYG9uU2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaXNtaXNzZWRgIHdpbGwgYmUgaW52b2tlZCBpZiBhbiBhcHByb3ByaWF0ZVxuICogdGFwIGluc2lkZSB0aGUgc2Nyb2xsIHJlc3BvbmRlcidzIHNjcm9sbGFibGUgcmVnaW9uIHdhcyByZXNwb25zaWJsZVxuICogZm9yIHRoZSBkaXNtaXNzYWwgb2YgdGhlIGtleWJvYXJkLiBUaGVyZSBhcmUgb3RoZXIgcmVhc29ucyB3aHkgdGhlXG4gKiBrZXlib2FyZCBjb3VsZCBiZSBkaXNtaXNzZWQuXG4gKlxuICogICB0aGlzLnByb3BzLm9uU2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaXNtaXNzZWRcbiAqXG4gKiBTdGFuZGFyZCBLZXlib2FyZCBIaWRlIFNlcXVlbmNlOlxuICpcbiAqICAgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbEhpZGVcbiAqICAgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkSGlkZVxuICovXG5cbi8vIFB1YmxpYyBtZXRob2RzIGZvciBTY3JvbGxWaWV3XG5leHBvcnQgdHlwZSBTY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHMgPSAkUmVhZE9ubHk8e3xcbiAgZ2V0U2Nyb2xsUmVzcG9uZGVyOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRTY3JvbGxSZXNwb25kZXInPixcbiAgZ2V0U2Nyb2xsYWJsZU5vZGU6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2dldFNjcm9sbGFibGVOb2RlJz4sXG4gIGdldElubmVyVmlld05vZGU6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2dldElubmVyVmlld05vZGUnPixcbiAgZ2V0SW5uZXJWaWV3UmVmOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRJbm5lclZpZXdSZWYnPixcbiAgZ2V0TmF0aXZlU2Nyb2xsUmVmOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXROYXRpdmVTY3JvbGxSZWYnPixcbiAgc2Nyb2xsVG86ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ3Njcm9sbFRvJz4sXG4gIHNjcm9sbFRvRW5kOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdzY3JvbGxUb0VuZCc+LFxuICBmbGFzaFNjcm9sbEluZGljYXRvcnM6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2ZsYXNoU2Nyb2xsSW5kaWNhdG9ycyc+LFxuICBzY3JvbGxSZXNwb25kZXJab29tVG86ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ3Njcm9sbFJlc3BvbmRlclpvb21Ubyc+LFxuICBzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkOiAkUHJvcGVydHlUeXBlPFxuICAgIFNjcm9sbFZpZXcsXG4gICAgJ3Njcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQnLFxuICA+LFxufH0+O1xuXG5leHBvcnQgdHlwZSBTY3JvbGxSZXNwb25kZXJUeXBlID0gU2Nyb2xsVmlld0ltcGVyYXRpdmVNZXRob2RzO1xuXG50eXBlIElPU1Byb3BzID0gJFJlYWRPbmx5PHt8XG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIGlPUyBzaG91bGQgYXV0b21hdGljYWxseSBhZGp1c3QgdGhlIGNvbnRlbnQgaW5zZXRcbiAgICogZm9yIHNjcm9sbCB2aWV3cyB0aGF0IGFyZSBwbGFjZWQgYmVoaW5kIGEgbmF2aWdhdGlvbiBiYXIgb3JcbiAgICogdGFiIGJhci8gdG9vbGJhci4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYXV0b21hdGljYWxseUFkanVzdENvbnRlbnRJbnNldHM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgaU9TIHNob3VsZCBhdXRvbWF0aWNhbGx5IGFkanVzdCB0aGUgc2Nyb2xsIGluZGljYXRvclxuICAgKiBpbnNldHMuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuIEF2YWlsYWJsZSBvbiBpT1MgMTMgYW5kIGxhdGVyLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhdXRvbWF0aWNhbGx5QWRqdXN0c1Njcm9sbEluZGljYXRvckluc2V0cz86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhlIGFtb3VudCBieSB3aGljaCB0aGUgc2Nyb2xsIHZpZXcgY29udGVudCBpcyBpbnNldCBmcm9tIHRoZSBlZGdlc1xuICAgKiBvZiB0aGUgc2Nyb2xsIHZpZXcuIERlZmF1bHRzIHRvIGB7dG9wOiAwLCBsZWZ0OiAwLCBib3R0b206IDAsIHJpZ2h0OiAwfWAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNvbnRlbnRJbnNldD86ID9FZGdlSW5zZXRzUHJvcCxcbiAgLyoqXG4gICAqIFVzZWQgdG8gbWFudWFsbHkgc2V0IHRoZSBzdGFydGluZyBzY3JvbGwgb2Zmc2V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBge3g6IDAsIHk6IDB9YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudE9mZnNldD86ID9Qb2ludFByb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBib3VuY2VzIHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kIG9mIHRoZVxuICAgKiBjb250ZW50IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlciB0aGVuIHRoZSBzY3JvbGwgdmlldyBhbG9uZyB0aGUgYXhpcyBvZlxuICAgKiB0aGUgc2Nyb2xsIGRpcmVjdGlvbi4gV2hlbiBmYWxzZSwgaXQgZGlzYWJsZXMgYWxsIGJvdW5jaW5nIGV2ZW4gaWZcbiAgICogdGhlIGBhbHdheXNCb3VuY2UqYCBwcm9wcyBhcmUgdHJ1ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYm91bmNlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQnkgZGVmYXVsdCwgU2Nyb2xsVmlldyBoYXMgYW4gYWN0aXZlIHBhbiByZXNwb25kZXIgdGhhdCBoaWphY2tzIHBhbnJlc3BvbmRlcnNcbiAgICogZGVlcGVyIGluIHRoZSByZW5kZXIgdHJlZSBpbiBvcmRlciB0byBwcmV2ZW50IGFjY2lkZW50YWwgdG91Y2hlcyB3aGlsZSBzY3JvbGxpbmcuXG4gICAqIEhvd2V2ZXIsIGluIGNlcnRhaW4gb2NjYXNpb25zIChzdWNoIGFzIHdoZW4gdXNpbmcgc25hcFRvSW50ZXJ2YWwpIGluIGEgdmVydGljYWwgc2Nyb2xsdmlld1xuICAgKiBZb3UgbWF5IHdhbnQgdG8gZGlzYWJsZSB0aGlzIGJlaGF2aW9yIGluIG9yZGVyIHRvIHByZXZlbnQgdGhlIFNjcm9sbFZpZXcgZnJvbSBibG9ja2luZyB0b3VjaGVzXG4gICAqL1xuICBkaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBnZXN0dXJlcyBjYW4gZHJpdmUgem9vbSBwYXN0IG1pbi9tYXggYW5kIHRoZSB6b29tIHdpbGwgYW5pbWF0ZVxuICAgKiB0byB0aGUgbWluL21heCB2YWx1ZSBhdCBnZXN0dXJlIGVuZCwgb3RoZXJ3aXNlIHRoZSB6b29tIHdpbGwgbm90IGV4Y2VlZFxuICAgKiB0aGUgbGltaXRzLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBib3VuY2VzWm9vbT86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyBob3Jpem9udGFsbHkgd2hlbiBpdCByZWFjaGVzIHRoZSBlbmRcbiAgICogZXZlbiBpZiB0aGUgY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGl0c2VsZi4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgdHJ1ZSB3aGVuIGBob3Jpem9udGFsPXt0cnVlfWAgYW5kIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYWx3YXlzQm91bmNlSG9yaXpvbnRhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyB2ZXJ0aWNhbGx5IHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kXG4gICAqIGV2ZW4gaWYgdGhlIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBpdHNlbGYuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlIHdoZW4gYGhvcml6b250YWw9e3RydWV9YCBhbmQgdHJ1ZSBvdGhlcndpc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGFsd2F5c0JvdW5jZVZlcnRpY2FsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBhdXRvbWF0aWNhbGx5IGNlbnRlcnMgdGhlIGNvbnRlbnQgd2hlbiB0aGVcbiAgICogY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGJvdW5kczsgd2hlbiB0aGUgY29udGVudCBpc1xuICAgKiBsYXJnZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcsIHRoaXMgcHJvcGVydHkgaGFzIG5vIGVmZmVjdC4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNlbnRlckNvbnRlbnQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBzdHlsZSBvZiB0aGUgc2Nyb2xsIGluZGljYXRvcnMuXG4gICAqXG4gICAqICAgLSBgJ2RlZmF1bHQnYCAodGhlIGRlZmF1bHQpLCBzYW1lIGFzIGBibGFja2AuXG4gICAqICAgLSBgJ2JsYWNrJ2AsIHNjcm9sbCBpbmRpY2F0b3IgaXMgYmxhY2suIFRoaXMgc3R5bGUgaXMgZ29vZCBhZ2FpbnN0IGEgbGlnaHQgYmFja2dyb3VuZC5cbiAgICogICAtIGAnd2hpdGUnYCwgc2Nyb2xsIGluZGljYXRvciBpcyB3aGl0ZS4gVGhpcyBzdHlsZSBpcyBnb29kIGFnYWluc3QgYSBkYXJrIGJhY2tncm91bmQuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGluZGljYXRvclN0eWxlPzogPygnZGVmYXVsdCcgfCAnYmxhY2snIHwgJ3doaXRlJyksXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBTY3JvbGxWaWV3IHdpbGwgdHJ5IHRvIGxvY2sgdG8gb25seSB2ZXJ0aWNhbCBvciBob3Jpem9udGFsXG4gICAqIHNjcm9sbGluZyB3aGlsZSBkcmFnZ2luZy4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBkaXJlY3Rpb25hbExvY2tFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGZhbHNlLCBvbmNlIHRyYWNraW5nIHN0YXJ0cywgd29uJ3QgdHJ5IHRvIGRyYWcgaWYgdGhlIHRvdWNoIG1vdmVzLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjYW5DYW5jZWxDb250ZW50VG91Y2hlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiBzZXQsIHRoZSBzY3JvbGwgdmlldyB3aWxsIGFkanVzdCB0aGUgc2Nyb2xsIHBvc2l0aW9uIHNvIHRoYXQgdGhlIGZpcnN0IGNoaWxkIHRoYXQgaXNcbiAgICogY3VycmVudGx5IHZpc2libGUgYW5kIGF0IG9yIGJleW9uZCBgbWluSW5kZXhGb3JWaXNpYmxlYCB3aWxsIG5vdCBjaGFuZ2UgcG9zaXRpb24uIFRoaXMgaXNcbiAgICogdXNlZnVsIGZvciBsaXN0cyB0aGF0IGFyZSBsb2FkaW5nIGNvbnRlbnQgaW4gYm90aCBkaXJlY3Rpb25zLCBlLmcuIGEgY2hhdCB0aHJlYWQsIHdoZXJlIG5ld1xuICAgKiBtZXNzYWdlcyBjb21pbmcgaW4gbWlnaHQgb3RoZXJ3aXNlIGNhdXNlIHRoZSBzY3JvbGwgcG9zaXRpb24gdG8ganVtcC4gQSB2YWx1ZSBvZiAwIGlzIGNvbW1vbixcbiAgICogYnV0IG90aGVyIHZhbHVlcyBzdWNoIGFzIDEgY2FuIGJlIHVzZWQgdG8gc2tpcCBsb2FkaW5nIHNwaW5uZXJzIG9yIG90aGVyIGNvbnRlbnQgdGhhdCBzaG91bGRcbiAgICogbm90IG1haW50YWluIHBvc2l0aW9uLlxuICAgKlxuICAgKiBUaGUgb3B0aW9uYWwgYGF1dG9zY3JvbGxUb1RvcFRocmVzaG9sZGAgY2FuIGJlIHVzZWQgdG8gbWFrZSB0aGUgY29udGVudCBhdXRvbWF0aWNhbGx5IHNjcm9sbFxuICAgKiB0byB0aGUgdG9wIGFmdGVyIG1ha2luZyB0aGUgYWRqdXN0bWVudCBpZiB0aGUgdXNlciB3YXMgd2l0aGluIHRoZSB0aHJlc2hvbGQgb2YgdGhlIHRvcCBiZWZvcmVcbiAgICogdGhlIGFkanVzdG1lbnQgd2FzIG1hZGUuIFRoaXMgaXMgYWxzbyB1c2VmdWwgZm9yIGNoYXQtbGlrZSBhcHBsaWNhdGlvbnMgd2hlcmUgeW91IHdhbnQgdG8gc2VlXG4gICAqIG5ldyBtZXNzYWdlcyBzY3JvbGwgaW50byBwbGFjZSwgYnV0IG5vdCBpZiB0aGUgdXNlciBoYXMgc2Nyb2xsZWQgdXAgYSB3YXlzIGFuZCBpdCB3b3VsZCBiZVxuICAgKiBkaXNydXB0aXZlIHRvIHNjcm9sbCBhIGJ1bmNoLlxuICAgKlxuICAgKiBDYXZlYXQgMTogUmVvcmRlcmluZyBlbGVtZW50cyBpbiB0aGUgc2Nyb2xsdmlldyB3aXRoIHRoaXMgZW5hYmxlZCB3aWxsIHByb2JhYmx5IGNhdXNlXG4gICAqIGp1bXBpbmVzcyBhbmQgamFuay4gSXQgY2FuIGJlIGZpeGVkLCBidXQgdGhlcmUgYXJlIGN1cnJlbnRseSBubyBwbGFucyB0byBkbyBzby4gRm9yIG5vdyxcbiAgICogZG9uJ3QgcmUtb3JkZXIgdGhlIGNvbnRlbnQgb2YgYW55IFNjcm9sbFZpZXdzIG9yIExpc3RzIHRoYXQgdXNlIHRoaXMgZmVhdHVyZS5cbiAgICpcbiAgICogQ2F2ZWF0IDI6IFRoaXMgc2ltcGx5IHVzZXMgYGNvbnRlbnRPZmZzZXRgIGFuZCBgZnJhbWUub3JpZ2luYCBpbiBuYXRpdmUgY29kZSB0byBjb21wdXRlXG4gICAqIHZpc2liaWxpdHkuIE9jY2x1c2lvbiwgdHJhbnNmb3JtcywgYW5kIG90aGVyIGNvbXBsZXhpdHkgd29uJ3QgYmUgdGFrZW4gaW50byBhY2NvdW50IGFzIHRvXG4gICAqIHdoZXRoZXIgY29udGVudCBpcyBcInZpc2libGVcIiBvciBub3QuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbj86ID8kUmVhZE9ubHk8e3xcbiAgICBtaW5JbmRleEZvclZpc2libGU6IG51bWJlcixcbiAgICBhdXRvc2Nyb2xsVG9Ub3BUaHJlc2hvbGQ/OiA/bnVtYmVyLFxuICB8fT4sXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBhbGxvd2VkIHpvb20gc2NhbGUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgbWF4aW11bVpvb21TY2FsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBUaGUgbWluaW11bSBhbGxvd2VkIHpvb20gc2NhbGUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgbWluaW11bVpvb21TY2FsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIFNjcm9sbFZpZXcgYWxsb3dzIHVzZSBvZiBwaW5jaCBnZXN0dXJlcyB0byB6b29tIGluIGFuZCBvdXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHBpbmNoR2VzdHVyZUVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoaXMgY29udHJvbHMgaG93IG9mdGVuIHRoZSBzY3JvbGwgZXZlbnQgd2lsbCBiZSBmaXJlZCB3aGlsZSBzY3JvbGxpbmdcbiAgICogKGFzIGEgdGltZSBpbnRlcnZhbCBpbiBtcykuIEEgbG93ZXIgbnVtYmVyIHlpZWxkcyBiZXR0ZXIgYWNjdXJhY3kgZm9yIGNvZGVcbiAgICogdGhhdCBpcyB0cmFja2luZyB0aGUgc2Nyb2xsIHBvc2l0aW9uLCBidXQgY2FuIGxlYWQgdG8gc2Nyb2xsIHBlcmZvcm1hbmNlXG4gICAqIHByb2JsZW1zIGR1ZSB0byB0aGUgdm9sdW1lIG9mIGluZm9ybWF0aW9uIGJlaW5nIHNlbmQgb3ZlciB0aGUgYnJpZGdlLlxuICAgKlxuICAgKiBWYWx1ZXMgYmV0d2VlbiAwIGFuZCAxN21zIGluZGljYXRlIDYwZnBzIHVwZGF0ZXMgYXJlIG5lZWRlZCBhbmQgdGhyb3R0bGluZ1xuICAgKiB3aWxsIGJlIGRpc2FibGVkLlxuICAgKlxuICAgKiBJZiB5b3UgZG8gbm90IG5lZWQgcHJlY2lzZSBzY3JvbGwgcG9zaXRpb24gdHJhY2tpbmcsIHNldCB0aGlzIHZhbHVlIGhpZ2hlclxuICAgKiB0byBsaW1pdCB0aGUgaW5mb3JtYXRpb24gYmVpbmcgc2VudCBhY3Jvc3MgdGhlIGJyaWRnZS5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgemVybywgd2hpY2ggcmVzdWx0cyBpbiB0aGUgc2Nyb2xsIGV2ZW50IGJlaW5nIHNlbnQgb25seVxuICAgKiBvbmNlIGVhY2ggdGltZSB0aGUgdmlldyBpcyBzY3JvbGxlZC5cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsRXZlbnRUaHJvdHRsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBUaGUgYW1vdW50IGJ5IHdoaWNoIHRoZSBzY3JvbGwgdmlldyBpbmRpY2F0b3JzIGFyZSBpbnNldCBmcm9tIHRoZSBlZGdlc1xuICAgKiBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoaXMgc2hvdWxkIG5vcm1hbGx5IGJlIHNldCB0byB0aGUgc2FtZSB2YWx1ZSBhc1xuICAgKiB0aGUgYGNvbnRlbnRJbnNldGAuIERlZmF1bHRzIHRvIGB7MCwgMCwgMCwgMH1gLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxJbmRpY2F0b3JJbnNldHM/OiA/RWRnZUluc2V0c1Byb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBjYW4gYmUgcHJvZ3JhbW1hdGljYWxseSBzY3JvbGxlZCBiZXlvbmQgaXRzXG4gICAqIGNvbnRlbnQgc2l6ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbFRvT3ZlcmZsb3dFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCB3aGVuIHRoZSBzdGF0dXMgYmFyIGlzIHRhcHBlZC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsc1RvVG9wPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBGaXJlcyB3aGVuIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCBhZnRlciB0aGUgc3RhdHVzIGJhciBoYXMgYmVlbiB0YXBwZWRcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgb25TY3JvbGxUb1RvcD86IChldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3dzIGEgaG9yaXpvbnRhbCBzY3JvbGwgaW5kaWNhdG9yLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc2hvd3NIb3Jpem9udGFsU2Nyb2xsSW5kaWNhdG9yPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGBzbmFwVG9JbnRlcnZhbGAgaXMgc2V0LCBgc25hcFRvQWxpZ25tZW50YCB3aWxsIGRlZmluZSB0aGUgcmVsYXRpb25zaGlwXG4gICAqIG9mIHRoZSBzbmFwcGluZyB0byB0aGUgc2Nyb2xsIHZpZXcuXG4gICAqXG4gICAqICAgLSBgJ3N0YXJ0J2AgKHRoZSBkZWZhdWx0KSB3aWxsIGFsaWduIHRoZSBzbmFwIGF0IHRoZSBsZWZ0IChob3Jpem9udGFsKSBvciB0b3AgKHZlcnRpY2FsKVxuICAgKiAgIC0gYCdjZW50ZXInYCB3aWxsIGFsaWduIHRoZSBzbmFwIGluIHRoZSBjZW50ZXJcbiAgICogICAtIGAnZW5kJ2Agd2lsbCBhbGlnbiB0aGUgc25hcCBhdCB0aGUgcmlnaHQgKGhvcml6b250YWwpIG9yIGJvdHRvbSAodmVydGljYWwpXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNuYXBUb0FsaWdubWVudD86ID8oJ3N0YXJ0JyB8ICdjZW50ZXInIHwgJ2VuZCcpLFxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2NhbGUgb2YgdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgem9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFRoaXMgcHJvcGVydHkgc3BlY2lmaWVzIGhvdyB0aGUgc2FmZSBhcmVhIGluc2V0cyBhcmUgdXNlZCB0byBtb2RpZnkgdGhlXG4gICAqIGNvbnRlbnQgYXJlYSBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoaXMgcHJvcGVydHkgaXNcbiAgICogXCJuZXZlclwiLiBBdmFpbGFibGUgb24gaU9TIDExIGFuZCBsYXRlci5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudEluc2V0QWRqdXN0bWVudEJlaGF2aW9yPzogPyhcbiAgICB8ICdhdXRvbWF0aWMnXG4gICAgfCAnc2Nyb2xsYWJsZUF4ZXMnXG4gICAgfCAnbmV2ZXInXG4gICAgfCAnYWx3YXlzJ1xuICApLFxufH0+O1xuXG50eXBlIEFuZHJvaWRQcm9wcyA9ICRSZWFkT25seTx7fFxuICAvKipcbiAgICogRW5hYmxlcyBuZXN0ZWQgc2Nyb2xsaW5nIGZvciBBbmRyb2lkIEFQSSBsZXZlbCAyMSsuXG4gICAqIE5lc3RlZCBzY3JvbGxpbmcgaXMgc3VwcG9ydGVkIGJ5IGRlZmF1bHQgb24gaU9TXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBuZXN0ZWRTY3JvbGxFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBTb21ldGltZXMgYSBzY3JvbGx2aWV3IHRha2VzIHVwIG1vcmUgc3BhY2UgdGhhbiBpdHMgY29udGVudCBmaWxscy4gV2hlbiB0aGlzIGlzXG4gICAqIHRoZSBjYXNlLCB0aGlzIHByb3Agd2lsbCBmaWxsIHRoZSByZXN0IG9mIHRoZSBzY3JvbGx2aWV3IHdpdGggYSBjb2xvciB0byBhdm9pZCBzZXR0aW5nXG4gICAqIGEgYmFja2dyb3VuZCBhbmQgY3JlYXRpbmcgdW5uZWNlc3Nhcnkgb3ZlcmRyYXcuIFRoaXMgaXMgYW4gYWR2YW5jZWQgb3B0aW1pemF0aW9uXG4gICAqIHRoYXQgaXMgbm90IG5lZWRlZCBpbiB0aGUgZ2VuZXJhbCBjYXNlLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgZW5kRmlsbENvbG9yPzogP0NvbG9yVmFsdWUsXG4gIC8qKlxuICAgKiBUYWcgdXNlZCB0byBsb2cgc2Nyb2xsIHBlcmZvcm1hbmNlIG9uIHRoaXMgc2Nyb2xsIHZpZXcuIFdpbGwgZm9yY2VcbiAgICogbW9tZW50dW0gZXZlbnRzIHRvIGJlIHR1cm5lZCBvbiAoc2VlIHNlbmRNb21lbnR1bUV2ZW50cykuIFRoaXMgZG9lc24ndCBkb1xuICAgKiBhbnl0aGluZyBvdXQgb2YgdGhlIGJveCBhbmQgeW91IG5lZWQgdG8gaW1wbGVtZW50IGEgY3VzdG9tIG5hdGl2ZVxuICAgKiBGcHNMaXN0ZW5lciBmb3IgaXQgdG8gYmUgdXNlZnVsLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgc2Nyb2xsUGVyZlRhZz86ID9zdHJpbmcsXG4gIC8qKlxuICAgKiBVc2VkIHRvIG92ZXJyaWRlIGRlZmF1bHQgdmFsdWUgb2Ygb3ZlclNjcm9sbCBtb2RlLlxuICAgKlxuICAgKiBQb3NzaWJsZSB2YWx1ZXM6XG4gICAqXG4gICAqICAtIGAnYXV0bydgIC0gRGVmYXVsdCB2YWx1ZSwgYWxsb3cgYSB1c2VyIHRvIG92ZXItc2Nyb2xsXG4gICAqICAgIHRoaXMgdmlldyBvbmx5IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlIGVub3VnaCB0byBtZWFuaW5nZnVsbHkgc2Nyb2xsLlxuICAgKiAgLSBgJ2Fsd2F5cydgIC0gQWx3YXlzIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqICAtIGAnbmV2ZXInYCAtIE5ldmVyIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBvdmVyU2Nyb2xsTW9kZT86ID8oJ2F1dG8nIHwgJ2Fsd2F5cycgfCAnbmV2ZXInKSxcbiAgLyoqXG4gICAqIENhdXNlcyB0aGUgc2Nyb2xsYmFycyBub3QgdG8gdHVybiB0cmFuc3BhcmVudCB3aGVuIHRoZXkgYXJlIG5vdCBpbiB1c2UuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgcGVyc2lzdGVudFNjcm9sbGJhcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogRmFkZXMgb3V0IHRoZSBlZGdlcyBvZiB0aGUgdGhlIHNjcm9sbCBjb250ZW50LlxuICAgKlxuICAgKiBJZiB0aGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIDAsIHRoZSBmYWRpbmcgZWRnZXMgd2lsbCBiZSBzZXQgYWNjb3JkaW5nbHlcbiAgICogdG8gdGhlIGN1cnJlbnQgc2Nyb2xsIGRpcmVjdGlvbiBhbmQgcG9zaXRpb24sXG4gICAqIGluZGljYXRpbmcgaWYgdGhlcmUgaXMgbW9yZSBjb250ZW50IHRvIHNob3cuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDAuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBmYWRpbmdFZGdlTGVuZ3RoPzogP251bWJlcixcbnx9PjtcblxudHlwZSBTdGlja3lIZWFkZXJDb21wb25lbnRUeXBlID0gUmVhY3QuQWJzdHJhY3RDb21wb25lbnQ8XG4gIFNjcm9sbFZpZXdTdGlja3lIZWFkZXJQcm9wcyxcbiAgJFJlYWRPbmx5PGludGVyZmFjZSB7c2V0TmV4dEhlYWRlclk6IG51bWJlciA9PiB2b2lkfT4sXG4+O1xuXG5leHBvcnQgdHlwZSBQcm9wcyA9ICRSZWFkT25seTx7fFxuICAuLi5WaWV3UHJvcHMsXG4gIC4uLklPU1Byb3BzLFxuICAuLi5BbmRyb2lkUHJvcHMsXG5cbiAgLyoqXG4gICAqIFRoZXNlIHN0eWxlcyB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQgY29udGFpbmVyIHdoaWNoXG4gICAqIHdyYXBzIGFsbCBvZiB0aGUgY2hpbGQgdmlld3MuIEV4YW1wbGU6XG4gICAqXG4gICAqIGBgYFxuICAgKiByZXR1cm4gKFxuICAgKiAgIDxTY3JvbGxWaWV3IGNvbnRlbnRDb250YWluZXJTdHlsZT17c3R5bGVzLmNvbnRlbnRDb250YWluZXJ9PlxuICAgKiAgIDwvU2Nyb2xsVmlldz5cbiAgICogKTtcbiAgICogLi4uXG4gICAqIGNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgICogICBjb250ZW50Q29udGFpbmVyOiB7XG4gICAqICAgICBwYWRkaW5nVmVydGljYWw6IDIwXG4gICAqICAgfVxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqL1xuICBjb250ZW50Q29udGFpbmVyU3R5bGU/OiA/Vmlld1N0eWxlUHJvcCxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IHN0b3BzIG9uIHRoZSBuZXh0IGluZGV4IChpbiByZWxhdGlvbiB0byBzY3JvbGxcbiAgICogcG9zaXRpb24gYXQgcmVsZWFzZSkgcmVnYXJkbGVzcyBvZiBob3cgZmFzdCB0aGUgZ2VzdHVyZSBpcy4gVGhpcyBjYW4gYmVcbiAgICogdXNlZCBmb3IgcGFnaW5hdGlvbiB3aGVuIHRoZSBwYWdlIGlzIGxlc3MgdGhhbiB0aGUgd2lkdGggb2YgdGhlXG4gICAqIGhvcml6b250YWwgU2Nyb2xsVmlldyBvciB0aGUgaGVpZ2h0IG9mIHRoZSB2ZXJ0aWNhbCBTY3JvbGxWaWV3LiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICovXG4gIGRpc2FibGVJbnRlcnZhbE1vbWVudHVtPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBIGZsb2F0aW5nLXBvaW50IG51bWJlciB0aGF0IGRldGVybWluZXMgaG93IHF1aWNrbHkgdGhlIHNjcm9sbCB2aWV3XG4gICAqIGRlY2VsZXJhdGVzIGFmdGVyIHRoZSB1c2VyIGxpZnRzIHRoZWlyIGZpbmdlci4gWW91IG1heSBhbHNvIHVzZSBzdHJpbmdcbiAgICogc2hvcnRjdXRzIGBcIm5vcm1hbFwiYCBhbmQgYFwiZmFzdFwiYCB3aGljaCBtYXRjaCB0aGUgdW5kZXJseWluZyBpT1Mgc2V0dGluZ3NcbiAgICogZm9yIGBVSVNjcm9sbFZpZXdEZWNlbGVyYXRpb25SYXRlTm9ybWFsYCBhbmRcbiAgICogYFVJU2Nyb2xsVmlld0RlY2VsZXJhdGlvblJhdGVGYXN0YCByZXNwZWN0aXZlbHkuXG4gICAqXG4gICAqICAgLSBgJ25vcm1hbCdgOiAwLjk5OCBvbiBpT1MsIDAuOTg1IG9uIEFuZHJvaWQgKHRoZSBkZWZhdWx0KVxuICAgKiAgIC0gYCdmYXN0J2A6IDAuOTkgb24gaU9TLCAwLjkgb24gQW5kcm9pZFxuICAgKi9cbiAgZGVjZWxlcmF0aW9uUmF0ZT86ID8oJ2Zhc3QnIHwgJ25vcm1hbCcgfCBudW1iZXIpLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcncyBjaGlsZHJlbiBhcmUgYXJyYW5nZWQgaG9yaXpvbnRhbGx5IGluIGEgcm93XG4gICAqIGluc3RlYWQgb2YgdmVydGljYWxseSBpbiBhIGNvbHVtbi4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqL1xuICBob3Jpem9udGFsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBJZiBzdGlja3kgaGVhZGVycyBzaG91bGQgc3RpY2sgYXQgdGhlIGJvdHRvbSBpbnN0ZWFkIG9mIHRoZSB0b3Agb2YgdGhlXG4gICAqIFNjcm9sbFZpZXcuIFRoaXMgaXMgdXN1YWxseSB1c2VkIHdpdGggaW52ZXJ0ZWQgU2Nyb2xsVmlld3MuXG4gICAqL1xuICBpbnZlcnRTdGlja3lIZWFkZXJzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGtleWJvYXJkIGdldHMgZGlzbWlzc2VkIGluIHJlc3BvbnNlIHRvIGEgZHJhZy5cbiAgICpcbiAgICogKkNyb3NzIHBsYXRmb3JtKlxuICAgKlxuICAgKiAgIC0gYCdub25lJ2AgKHRoZSBkZWZhdWx0KSwgZHJhZ3MgZG8gbm90IGRpc21pc3MgdGhlIGtleWJvYXJkLlxuICAgKiAgIC0gYCdvbi1kcmFnJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgd2hlbiBhIGRyYWcgYmVnaW5zLlxuICAgKlxuICAgKiAqaU9TIE9ubHkqXG4gICAqXG4gICAqICAgLSBgJ2ludGVyYWN0aXZlJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgaW50ZXJhY3RpdmVseSB3aXRoIHRoZSBkcmFnIGFuZCBtb3ZlcyBpblxuICAgKiAgICAgc3luY2hyb255IHdpdGggdGhlIHRvdWNoOyBkcmFnZ2luZyB1cHdhcmRzIGNhbmNlbHMgdGhlIGRpc21pc3NhbC5cbiAgICogICAgIE9uIGFuZHJvaWQgdGhpcyBpcyBub3Qgc3VwcG9ydGVkIGFuZCBpdCB3aWxsIGhhdmUgdGhlIHNhbWUgYmVoYXZpb3IgYXMgJ25vbmUnLlxuICAgKi9cbiAga2V5Ym9hcmREaXNtaXNzTW9kZT86ID8vLyBkZWZhdWx0XG4gIC8vIGNyb3NzLXBsYXRmb3JtXG4gICgnbm9uZScgfCAnb24tZHJhZycgfCAnaW50ZXJhY3RpdmUnKSwgLy8gaW9zIG9ubHlcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hlbiB0aGUga2V5Ym9hcmQgc2hvdWxkIHN0YXkgdmlzaWJsZSBhZnRlciBhIHRhcC5cbiAgICpcbiAgICogICAtIGAnbmV2ZXInYCAodGhlIGRlZmF1bHQpLCB0YXBwaW5nIG91dHNpZGUgb2YgdGhlIGZvY3VzZWQgdGV4dCBpbnB1dCB3aGVuIHRoZSBrZXlib2FyZFxuICAgKiAgICAgaXMgdXAgZGlzbWlzc2VzIHRoZSBrZXlib2FyZC4gV2hlbiB0aGlzIGhhcHBlbnMsIGNoaWxkcmVuIHdvbid0IHJlY2VpdmUgdGhlIHRhcC5cbiAgICogICAtIGAnYWx3YXlzJ2AsIHRoZSBrZXlib2FyZCB3aWxsIG5vdCBkaXNtaXNzIGF1dG9tYXRpY2FsbHksIGFuZCB0aGUgc2Nyb2xsIHZpZXcgd2lsbCBub3RcbiAgICogICAgIGNhdGNoIHRhcHMsIGJ1dCBjaGlsZHJlbiBvZiB0aGUgc2Nyb2xsIHZpZXcgY2FuIGNhdGNoIHRhcHMuXG4gICAqICAgLSBgJ2hhbmRsZWQnYCwgdGhlIGtleWJvYXJkIHdpbGwgbm90IGRpc21pc3MgYXV0b21hdGljYWxseSB3aGVuIHRoZSB0YXAgd2FzIGhhbmRsZWQgYnlcbiAgICogICAgIGEgY2hpbGRyZW4sIChvciBjYXB0dXJlZCBieSBhbiBhbmNlc3RvcikuXG4gICAqICAgLSBgZmFsc2VgLCBkZXByZWNhdGVkLCB1c2UgJ25ldmVyJyBpbnN0ZWFkXG4gICAqICAgLSBgdHJ1ZWAsIGRlcHJlY2F0ZWQsIHVzZSAnYWx3YXlzJyBpbnN0ZWFkXG4gICAqL1xuICBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzPzogPygnYWx3YXlzJyB8ICduZXZlcicgfCAnaGFuZGxlZCcgfCB0cnVlIHwgZmFsc2UpLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIG1vbWVudHVtIHNjcm9sbCBzdGFydHMgKHNjcm9sbCB3aGljaCBvY2N1cnMgYXMgdGhlIFNjcm9sbFZpZXcgZ2xpZGVzIHRvIGEgc3RvcCkuXG4gICAqL1xuICBvbk1vbWVudHVtU2Nyb2xsQmVnaW4/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBtb21lbnR1bSBzY3JvbGwgZW5kcyAoc2Nyb2xsIHdoaWNoIG9jY3VycyBhcyB0aGUgU2Nyb2xsVmlldyBnbGlkZXMgdG8gYSBzdG9wKS5cbiAgICovXG4gIG9uTW9tZW50dW1TY3JvbGxFbmQ/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcblxuICAvKipcbiAgICogRmlyZXMgYXQgbW9zdCBvbmNlIHBlciBmcmFtZSBkdXJpbmcgc2Nyb2xsaW5nLiBUaGUgZnJlcXVlbmN5IG9mIHRoZVxuICAgKiBldmVudHMgY2FuIGJlIGNvbnRyb2xsZWQgdXNpbmcgdGhlIGBzY3JvbGxFdmVudFRocm90dGxlYCBwcm9wLlxuICAgKi9cbiAgb25TY3JvbGw/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB1c2VyIGJlZ2lucyB0byBkcmFnIHRoZSBzY3JvbGwgdmlldy5cbiAgICovXG4gIG9uU2Nyb2xsQmVnaW5EcmFnPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBzdG9wcyBkcmFnZ2luZyB0aGUgc2Nyb2xsIHZpZXcgYW5kIGl0IGVpdGhlciBzdG9wc1xuICAgKiBvciBiZWdpbnMgdG8gZ2xpZGUuXG4gICAqL1xuICBvblNjcm9sbEVuZERyYWc/OiA/KGV2ZW50OiBTY3JvbGxFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHNjcm9sbGFibGUgY29udGVudCB2aWV3IG9mIHRoZSBTY3JvbGxWaWV3IGNoYW5nZXMuXG4gICAqXG4gICAqIEhhbmRsZXIgZnVuY3Rpb24gaXMgcGFzc2VkIHRoZSBjb250ZW50IHdpZHRoIGFuZCBjb250ZW50IGhlaWdodCBhcyBwYXJhbWV0ZXJzOlxuICAgKiBgKGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodClgXG4gICAqXG4gICAqIEl0J3MgaW1wbGVtZW50ZWQgdXNpbmcgb25MYXlvdXQgaGFuZGxlciBhdHRhY2hlZCB0byB0aGUgY29udGVudCBjb250YWluZXJcbiAgICogd2hpY2ggdGhpcyBTY3JvbGxWaWV3IHJlbmRlcnMuXG4gICAqL1xuICBvbkNvbnRlbnRTaXplQ2hhbmdlPzogKGNvbnRlbnRXaWR0aDogbnVtYmVyLCBjb250ZW50SGVpZ2h0OiBudW1iZXIpID0+IHZvaWQsXG4gIG9uS2V5Ym9hcmREaWRTaG93PzogKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkLFxuICBvbktleWJvYXJkRGlkSGlkZT86IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCxcbiAgb25LZXlib2FyZFdpbGxTaG93PzogKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkLFxuICBvbktleWJvYXJkV2lsbEhpZGU/OiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzdG9wcyBvbiBtdWx0aXBsZXMgb2YgdGhlIHNjcm9sbCB2aWV3J3Mgc2l6ZVxuICAgKiB3aGVuIHNjcm9sbGluZy4gVGhpcyBjYW4gYmUgdXNlZCBmb3IgaG9yaXpvbnRhbCBwYWdpbmF0aW9uLiBUaGUgZGVmYXVsdFxuICAgKiB2YWx1ZSBpcyBmYWxzZS5cbiAgICpcbiAgICogTm90ZTogVmVydGljYWwgcGFnaW5hdGlvbiBpcyBub3Qgc3VwcG9ydGVkIG9uIEFuZHJvaWQuXG4gICAqL1xuICBwYWdpbmdFbmFibGVkPzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIFdoZW4gZmFsc2UsIHRoZSB2aWV3IGNhbm5vdCBiZSBzY3JvbGxlZCB2aWEgdG91Y2ggaW50ZXJhY3Rpb24uXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGUgdmlldyBjYW4gYWx3YXlzIGJlIHNjcm9sbGVkIGJ5IGNhbGxpbmcgYHNjcm9sbFRvYC5cbiAgICovXG4gIHNjcm9sbEVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgc2hvd3MgYSB2ZXJ0aWNhbCBzY3JvbGwgaW5kaWNhdG9yLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc2hvd3NWZXJ0aWNhbFNjcm9sbEluZGljYXRvcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBTdGlja3kgaGVhZGVyIGlzIGhpZGRlbiB3aGVuIHNjcm9sbGluZyBkb3duLCBhbmQgZG9jayBhdCB0aGUgdG9wXG4gICAqIHdoZW4gc2Nyb2xsaW5nIHVwXG4gICAqL1xuICBzdGlja3lIZWFkZXJIaWRkZW5PblNjcm9sbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogQW4gYXJyYXkgb2YgY2hpbGQgaW5kaWNlcyBkZXRlcm1pbmluZyB3aGljaCBjaGlsZHJlbiBnZXQgZG9ja2VkIHRvIHRoZVxuICAgKiB0b3Agb2YgdGhlIHNjcmVlbiB3aGVuIHNjcm9sbGluZy4gRm9yIGV4YW1wbGUsIHBhc3NpbmdcbiAgICogYHN0aWNreUhlYWRlckluZGljZXM9e1swXX1gIHdpbGwgY2F1c2UgdGhlIGZpcnN0IGNoaWxkIHRvIGJlIGZpeGVkIHRvIHRoZVxuICAgKiB0b3Agb2YgdGhlIHNjcm9sbCB2aWV3LiBUaGlzIHByb3BlcnR5IGlzIG5vdCBzdXBwb3J0ZWQgaW4gY29uanVuY3Rpb25cbiAgICogd2l0aCBgaG9yaXpvbnRhbD17dHJ1ZX1gLlxuICAgKi9cbiAgc3RpY2t5SGVhZGVySW5kaWNlcz86ID8kUmVhZE9ubHlBcnJheTxudW1iZXI+LFxuICAvKipcbiAgICogQSBSZWFjdCBDb21wb25lbnQgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcmVuZGVyIHN0aWNreSBoZWFkZXJzLlxuICAgKiBUbyBiZSB1c2VkIHRvZ2V0aGVyIHdpdGggYHN0aWNreUhlYWRlckluZGljZXNgIG9yIHdpdGggYFNlY3Rpb25MaXN0YCwgZGVmYXVsdHMgdG8gYFNjcm9sbFZpZXdTdGlja3lIZWFkZXJgLlxuICAgKiBZb3UgbWF5IG5lZWQgdG8gc2V0IHRoaXMgaWYgeW91ciBzdGlja3kgaGVhZGVyIHVzZXMgY3VzdG9tIHRyYW5zZm9ybXMgKGVnLiB0cmFuc2xhdGlvbiksXG4gICAqIGZvciBleGFtcGxlIHdoZW4geW91IHdhbnQgeW91ciBsaXN0IHRvIGhhdmUgYW4gYW5pbWF0ZWQgaGlkYWJsZSBoZWFkZXIuXG4gICAqL1xuICBTdGlja3lIZWFkZXJDb21wb25lbnQ/OiBTdGlja3lIZWFkZXJDb21wb25lbnRUeXBlLFxuICAvKipcbiAgICogV2hlbiBzZXQsIGNhdXNlcyB0aGUgc2Nyb2xsIHZpZXcgdG8gc3RvcCBhdCBtdWx0aXBsZXMgb2YgdGhlIHZhbHVlIG9mXG4gICAqIGBzbmFwVG9JbnRlcnZhbGAuIFRoaXMgY2FuIGJlIHVzZWQgZm9yIHBhZ2luYXRpbmcgdGhyb3VnaCBjaGlsZHJlblxuICAgKiB0aGF0IGhhdmUgbGVuZ3RocyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3LiBUeXBpY2FsbHkgdXNlZCBpblxuICAgKiBjb21iaW5hdGlvbiB3aXRoIGBzbmFwVG9BbGlnbm1lbnRgIGFuZCBgZGVjZWxlcmF0aW9uUmF0ZT1cImZhc3RcImAuXG4gICAqXG4gICAqIE92ZXJyaWRlcyBsZXNzIGNvbmZpZ3VyYWJsZSBgcGFnaW5nRW5hYmxlZGAgcHJvcC5cbiAgICovXG4gIHNuYXBUb0ludGVydmFsPzogP251bWJlcixcbiAgLyoqXG4gICAqIFdoZW4gc2V0LCBjYXVzZXMgdGhlIHNjcm9sbCB2aWV3IHRvIHN0b3AgYXQgdGhlIGRlZmluZWQgb2Zmc2V0cy5cbiAgICogVGhpcyBjYW4gYmUgdXNlZCBmb3IgcGFnaW5hdGluZyB0aHJvdWdoIHZhcmlvdXNseSBzaXplZCBjaGlsZHJlblxuICAgKiB0aGF0IGhhdmUgbGVuZ3RocyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3LiBUeXBpY2FsbHkgdXNlZCBpblxuICAgKiBjb21iaW5hdGlvbiB3aXRoIGBkZWNlbGVyYXRpb25SYXRlPVwiZmFzdFwiYC5cbiAgICpcbiAgICogT3ZlcnJpZGVzIGxlc3MgY29uZmlndXJhYmxlIGBwYWdpbmdFbmFibGVkYCBhbmQgYHNuYXBUb0ludGVydmFsYCBwcm9wcy5cbiAgICovXG4gIHNuYXBUb09mZnNldHM/OiA/JFJlYWRPbmx5QXJyYXk8bnVtYmVyPixcbiAgLyoqXG4gICAqIFVzZSBpbiBjb25qdW5jdGlvbiB3aXRoIGBzbmFwVG9PZmZzZXRzYC4gQnkgZGVmYXVsdCwgdGhlIGJlZ2lubmluZ1xuICAgKiBvZiB0aGUgbGlzdCBjb3VudHMgYXMgYSBzbmFwIG9mZnNldC4gU2V0IGBzbmFwVG9TdGFydGAgdG8gZmFsc2UgdG8gZGlzYWJsZVxuICAgKiB0aGlzIGJlaGF2aW9yIGFuZCBhbGxvdyB0aGUgbGlzdCB0byBzY3JvbGwgZnJlZWx5IGJldHdlZW4gaXRzIHN0YXJ0IGFuZFxuICAgKiB0aGUgZmlyc3QgYHNuYXBUb09mZnNldHNgIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNuYXBUb1N0YXJ0PzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBVc2UgaW4gY29uanVuY3Rpb24gd2l0aCBgc25hcFRvT2Zmc2V0c2AuIEJ5IGRlZmF1bHQsIHRoZSBlbmRcbiAgICogb2YgdGhlIGxpc3QgY291bnRzIGFzIGEgc25hcCBvZmZzZXQuIFNldCBgc25hcFRvRW5kYCB0byBmYWxzZSB0byBkaXNhYmxlXG4gICAqIHRoaXMgYmVoYXZpb3IgYW5kIGFsbG93IHRoZSBsaXN0IHRvIHNjcm9sbCBmcmVlbHkgYmV0d2VlbiBpdHMgZW5kIGFuZFxuICAgKiB0aGUgbGFzdCBgc25hcFRvT2Zmc2V0c2Agb2Zmc2V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc25hcFRvRW5kPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBFeHBlcmltZW50YWw6IFdoZW4gdHJ1ZSwgb2Zmc2NyZWVuIGNoaWxkIHZpZXdzICh3aG9zZSBgb3ZlcmZsb3dgIHZhbHVlIGlzXG4gICAqIGBoaWRkZW5gKSBhcmUgcmVtb3ZlZCBmcm9tIHRoZWlyIG5hdGl2ZSBiYWNraW5nIHN1cGVydmlldyB3aGVuIG9mZnNjcmVlbi5cbiAgICogVGhpcyBjYW4gaW1wcm92ZSBzY3JvbGxpbmcgcGVyZm9ybWFuY2Ugb24gbG9uZyBsaXN0cy4gVGhlIGRlZmF1bHQgdmFsdWUgaXNcbiAgICogdHJ1ZS5cbiAgICovXG4gIHJlbW92ZUNsaXBwZWRTdWJ2aWV3cz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQSBSZWZyZXNoQ29udHJvbCBjb21wb25lbnQsIHVzZWQgdG8gcHJvdmlkZSBwdWxsLXRvLXJlZnJlc2hcbiAgICogZnVuY3Rpb25hbGl0eSBmb3IgdGhlIFNjcm9sbFZpZXcuIE9ubHkgd29ya3MgZm9yIHZlcnRpY2FsIFNjcm9sbFZpZXdzXG4gICAqIChgaG9yaXpvbnRhbGAgcHJvcCBtdXN0IGJlIGBmYWxzZWApLlxuICAgKlxuICAgKiBTZWUgW1JlZnJlc2hDb250cm9sXShkb2NzL3JlZnJlc2hjb250cm9sLmh0bWwpLlxuICAgKi9cbiAgLyogJEZsb3dGaXhNZVt1bmNsZWFyLXR5cGVdIC0gaG93IHRvIGhhbmRsZSBnZW5lcmljIHR5cGUgd2l0aG91dCBleGlzdGVudGlhbFxuICAgKiBvcGVyYXRvcj8gKi9cbiAgcmVmcmVzaENvbnRyb2w/OiA/UmVhY3QuRWxlbWVudDxhbnk+LFxuICBjaGlsZHJlbj86IFJlYWN0Lk5vZGUsXG4gIC8qKlxuICAgKiBBIHJlZiB0byB0aGUgaW5uZXIgVmlldyBlbGVtZW50IG9mIHRoZSBTY3JvbGxWaWV3LiBUaGlzIHNob3VsZCBiZSB1c2VkXG4gICAqIGluc3RlYWQgb2YgY2FsbGluZyBgZ2V0SW5uZXJWaWV3UmVmYC5cbiAgICovXG4gIGlubmVyVmlld1JlZj86IFJlYWN0LlJlZjx0eXBlb2YgVmlldz4sXG4gIC8qKlxuICAgKiBBIHJlZiB0byB0aGUgTmF0aXZlIFNjcm9sbFZpZXcgY29tcG9uZW50LiBUaGlzIHJlZiBjYW4gYmUgdXNlZCB0byBjYWxsXG4gICAqIGFsbCBvZiBTY3JvbGxWaWV3J3MgcHVibGljIG1ldGhvZHMsIGluIGFkZGl0aW9uIHRvIG5hdGl2ZSBtZXRob2RzIGxpa2VcbiAgICogbWVhc3VyZSwgbWVhc3VyZUxheW91dCwgZXRjLlxuICAgKi9cbiAgc2Nyb2xsVmlld1JlZj86IFJlYWN0LlJlZjxcbiAgICB0eXBlb2YgU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCAmIFNjcm9sbFZpZXdJbXBlcmF0aXZlTWV0aG9kcyxcbiAgPixcbnx9PjtcblxudHlwZSBTdGF0ZSA9IHt8XG4gIGxheW91dEhlaWdodDogP251bWJlcixcbnx9O1xuXG5jb25zdCBJU19BTklNQVRJTkdfVE9VQ0hfU1RBUlRfVEhSRVNIT0xEX01TID0gMTY7XG5cbnR5cGUgU2Nyb2xsVmlld0NvbXBvbmVudFN0YXRpY3MgPSAkUmVhZE9ubHk8e3xcbiAgQ29udGV4dDogdHlwZW9mIFNjcm9sbFZpZXdDb250ZXh0LFxufH0+O1xuXG4vKipcbiAqIENvbXBvbmVudCB0aGF0IHdyYXBzIHBsYXRmb3JtIFNjcm9sbFZpZXcgd2hpbGUgcHJvdmlkaW5nXG4gKiBpbnRlZ3JhdGlvbiB3aXRoIHRvdWNoIGxvY2tpbmcgXCJyZXNwb25kZXJcIiBzeXN0ZW0uXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQgU2Nyb2xsVmlld3MgbXVzdCBoYXZlIGEgYm91bmRlZCBoZWlnaHQgaW4gb3JkZXIgdG8gd29yayxcbiAqIHNpbmNlIHRoZXkgY29udGFpbiB1bmJvdW5kZWQtaGVpZ2h0IGNoaWxkcmVuIGludG8gYSBib3VuZGVkIGNvbnRhaW5lciAodmlhXG4gKiBhIHNjcm9sbCBpbnRlcmFjdGlvbikuIEluIG9yZGVyIHRvIGJvdW5kIHRoZSBoZWlnaHQgb2YgYSBTY3JvbGxWaWV3LCBlaXRoZXJcbiAqIHNldCB0aGUgaGVpZ2h0IG9mIHRoZSB2aWV3IGRpcmVjdGx5IChkaXNjb3VyYWdlZCkgb3IgbWFrZSBzdXJlIGFsbCBwYXJlbnRcbiAqIHZpZXdzIGhhdmUgYm91bmRlZCBoZWlnaHQuIEZvcmdldHRpbmcgdG8gdHJhbnNmZXIgYHtmbGV4OiAxfWAgZG93biB0aGVcbiAqIHZpZXcgc3RhY2sgY2FuIGxlYWQgdG8gZXJyb3JzIGhlcmUsIHdoaWNoIHRoZSBlbGVtZW50IGluc3BlY3RvciBtYWtlc1xuICogZWFzeSB0byBkZWJ1Zy5cbiAqXG4gKiBEb2Vzbid0IHlldCBzdXBwb3J0IG90aGVyIGNvbnRhaW5lZCByZXNwb25kZXJzIGZyb20gYmxvY2tpbmcgdGhpcyBzY3JvbGxcbiAqIHZpZXcgZnJvbSBiZWNvbWluZyB0aGUgcmVzcG9uZGVyLlxuICpcbiAqXG4gKiBgPFNjcm9sbFZpZXc+YCB2cyBbYDxGbGF0TGlzdD5gXShodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2ZsYXRsaXN0Lmh0bWwpIC0gd2hpY2ggb25lIHRvIHVzZT9cbiAqXG4gKiBgU2Nyb2xsVmlld2Agc2ltcGx5IHJlbmRlcnMgYWxsIGl0cyByZWFjdCBjaGlsZCBjb21wb25lbnRzIGF0IG9uY2UuIFRoYXRcbiAqIG1ha2VzIGl0IHZlcnkgZWFzeSB0byB1bmRlcnN0YW5kIGFuZCB1c2UuXG4gKlxuICogT24gdGhlIG90aGVyIGhhbmQsIHRoaXMgaGFzIGEgcGVyZm9ybWFuY2UgZG93bnNpZGUuIEltYWdpbmUgeW91IGhhdmUgYSB2ZXJ5XG4gKiBsb25nIGxpc3Qgb2YgaXRlbXMgeW91IHdhbnQgdG8gZGlzcGxheSwgbWF5YmUgc2V2ZXJhbCBzY3JlZW5zIHdvcnRoIG9mXG4gKiBjb250ZW50LiBDcmVhdGluZyBKUyBjb21wb25lbnRzIGFuZCBuYXRpdmUgdmlld3MgZm9yIGV2ZXJ5dGhpbmcgYWxsIGF0IG9uY2UsXG4gKiBtdWNoIG9mIHdoaWNoIG1heSBub3QgZXZlbiBiZSBzaG93biwgd2lsbCBjb250cmlidXRlIHRvIHNsb3cgcmVuZGVyaW5nIGFuZFxuICogaW5jcmVhc2VkIG1lbW9yeSB1c2FnZS5cbiAqXG4gKiBUaGlzIGlzIHdoZXJlIGBGbGF0TGlzdGAgY29tZXMgaW50byBwbGF5LiBgRmxhdExpc3RgIHJlbmRlcnMgaXRlbXMgbGF6aWx5LFxuICoganVzdCB3aGVuIHRoZXkgYXJlIGFib3V0IHRvIGFwcGVhciwgYW5kIHJlbW92ZXMgaXRlbXMgdGhhdCBzY3JvbGwgd2F5IG9mZlxuICogc2NyZWVuIHRvIHNhdmUgbWVtb3J5IGFuZCBwcm9jZXNzaW5nIHRpbWUuXG4gKlxuICogYEZsYXRMaXN0YCBpcyBhbHNvIGhhbmR5IGlmIHlvdSB3YW50IHRvIHJlbmRlciBzZXBhcmF0b3JzIGJldHdlZW4geW91ciBpdGVtcyxcbiAqIG11bHRpcGxlIGNvbHVtbnMsIGluZmluaXRlIHNjcm9sbCBsb2FkaW5nLCBvciBhbnkgbnVtYmVyIG9mIG90aGVyIGZlYXR1cmVzIGl0XG4gKiBzdXBwb3J0cyBvdXQgb2YgdGhlIGJveC5cbiAqL1xuY2xhc3MgU2Nyb2xsVmlldyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgc3RhdGljIENvbnRleHQ6IHR5cGVvZiBTY3JvbGxWaWV3Q29udGV4dCA9IFNjcm9sbFZpZXdDb250ZXh0O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWUgPSBuZXcgQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5WYWx1ZShcbiAgICAgIHRoaXMucHJvcHMuY29udGVudE9mZnNldD8ueSA/PyAwLFxuICAgICk7XG4gICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZS5zZXRPZmZzZXQodGhpcy5wcm9wcy5jb250ZW50SW5zZXQ/LnRvcCA/PyAwKTtcbiAgfVxuXG4gIF9zY3JvbGxBbmltYXRlZFZhbHVlOiBBbmltYXRlZEltcGxlbWVudGF0aW9uLlZhbHVlO1xuICBfc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQ6ID97ZGV0YWNoOiAoKSA9PiB2b2lkLCAuLi59ID0gbnVsbDtcbiAgX3N0aWNreUhlYWRlclJlZnM6IE1hcDxcbiAgICBzdHJpbmcsXG4gICAgUmVhY3QuRWxlbWVudFJlZjxTdGlja3lIZWFkZXJDb21wb25lbnRUeXBlPixcbiAgPiA9IG5ldyBNYXAoKTtcbiAgX2hlYWRlckxheW91dFlzOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xuXG4gIF9rZXlib2FyZFdpbGxPcGVuVG86ID9LZXlib2FyZEV2ZW50ID0gbnVsbDtcbiAgX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQ6IG51bWJlciA9IDA7XG4gIF9pc1RvdWNoaW5nOiBib29sZWFuID0gZmFsc2U7XG4gIF9sYXN0TW9tZW50dW1TY3JvbGxCZWdpblRpbWU6IG51bWJlciA9IDA7XG4gIF9sYXN0TW9tZW50dW1TY3JvbGxFbmRUaW1lOiBudW1iZXIgPSAwO1xuXG4gIC8vIFJlc2V0IHRvIGZhbHNlIGV2ZXJ5IHRpbWUgYmVjb21lcyByZXNwb25kZXIuIFRoaXMgaXMgdXNlZCB0bzpcbiAgLy8gLSBEZXRlcm1pbmUgaWYgdGhlIHNjcm9sbCB2aWV3IGhhcyBiZWVuIHNjcm9sbGVkIGFuZCB0aGVyZWZvcmUgc2hvdWxkXG4gIC8vIHJlZnVzZSB0byBnaXZlIHVwIGl0cyByZXNwb25kZXIgbG9jay5cbiAgLy8gLSBEZXRlcm1pbmUgaWYgcmVsZWFzaW5nIHNob3VsZCBkaXNtaXNzIHRoZSBrZXlib2FyZCB3aGVuIHdlIGFyZSBpblxuICAvLyB0YXAtdG8tZGlzbWlzcyBtb2RlICh0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgIT09ICdhbHdheXMnKS5cbiAgX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlcjogYm9vbGVhbiA9IGZhbHNlO1xuICBfYmVjYW1lUmVzcG9uZGVyV2hpbGVBbmltYXRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgX3ByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldDogP2Jvb2xlYW4gPSBudWxsO1xuXG4gIF9hbmltYXRlZCA9IG51bGw7XG5cbiAgX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbFNob3c6ID9FdmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gIF9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlOiA/RXZlbnRTdWJzY3JpcHRpb24gPSBudWxsO1xuICBfc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRTaG93OiA/RXZlbnRTdWJzY3JpcHRpb24gPSBudWxsO1xuICBfc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRIaWRlOiA/RXZlbnRTdWJzY3JpcHRpb24gPSBudWxsO1xuXG4gIHN0YXRlOiBTdGF0ZSA9IHtcbiAgICBsYXlvdXRIZWlnaHQ6IG51bGwsXG4gIH07XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPT09ICdib29sZWFuJykge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgJ2tleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHM9eyR7XG4gICAgICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID09PSB0cnVlID8gJ3RydWUnIDogJ2ZhbHNlJ1xuICAgICAgICB9fScgaXMgZGVwcmVjYXRlZC4gYCArXG4gICAgICAgICAgYFVzZSAna2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcz1cIiR7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPyAnYWx3YXlzJyA6ICduZXZlcidcbiAgICAgICAgICB9XCInIGluc3RlYWRgLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLl9rZXlib2FyZFdpbGxPcGVuVG8gPSBudWxsO1xuICAgIHRoaXMuX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQgPSAwO1xuXG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdyA9IEtleWJvYXJkLmFkZExpc3RlbmVyKFxuICAgICAgJ2tleWJvYXJkV2lsbFNob3cnLFxuICAgICAgdGhpcy5zY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxTaG93LFxuICAgICk7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsSGlkZSA9IEtleWJvYXJkLmFkZExpc3RlbmVyKFxuICAgICAgJ2tleWJvYXJkV2lsbEhpZGUnLFxuICAgICAgdGhpcy5zY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxIaWRlLFxuICAgICk7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRTaG93ID0gS2V5Ym9hcmQuYWRkTGlzdGVuZXIoXG4gICAgICAna2V5Ym9hcmREaWRTaG93JyxcbiAgICAgIHRoaXMuc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRTaG93LFxuICAgICk7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRIaWRlID0gS2V5Ym9hcmQuYWRkTGlzdGVuZXIoXG4gICAgICAna2V5Ym9hcmREaWRIaWRlJyxcbiAgICAgIHRoaXMuc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRIaWRlLFxuICAgICk7XG5cbiAgICB0aGlzLl91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50KCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBQcm9wcykge1xuICAgIGNvbnN0IHByZXZDb250ZW50SW5zZXRUb3AgPSBwcmV2UHJvcHMuY29udGVudEluc2V0XG4gICAgICA/IHByZXZQcm9wcy5jb250ZW50SW5zZXQudG9wXG4gICAgICA6IDA7XG4gICAgY29uc3QgbmV3Q29udGVudEluc2V0VG9wID0gdGhpcy5wcm9wcy5jb250ZW50SW5zZXRcbiAgICAgID8gdGhpcy5wcm9wcy5jb250ZW50SW5zZXQudG9wXG4gICAgICA6IDA7XG4gICAgaWYgKHByZXZDb250ZW50SW5zZXRUb3AgIT09IG5ld0NvbnRlbnRJbnNldFRvcCkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZS5zZXRPZmZzZXQobmV3Q29udGVudEluc2V0VG9wIHx8IDApO1xuICAgIH1cblxuICAgIHRoaXMuX3VwZGF0ZUFuaW1hdGVkTm9kZUF0dGFjaG1lbnQoKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxTaG93ICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbFNob3cucmVtb3ZlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbEhpZGUucmVtb3ZlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZFNob3cgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRTaG93LnJlbW92ZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRIaWRlICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkSGlkZS5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQpIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50LmRldGFjaCgpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXROYXRpdmVSZWYgPSBzZXRBbmRGb3J3YXJkUmVmKHtcbiAgICBnZXRGb3J3YXJkZWRSZWY6ICgpID0+IHRoaXMucHJvcHMuc2Nyb2xsVmlld1JlZixcbiAgICBzZXRMb2NhbFJlZjogcmVmID0+IHtcbiAgICAgIHRoaXMuX3Njcm9sbFZpZXdSZWYgPSByZWY7XG5cbiAgICAgIC8qXG4gICAgICAgIFRoaXMgaXMgYSBoYWNrLiBJZGVhbGx5IHdlIHdvdWxkIGZvcndhcmRSZWYgdG8gdGhlIHVuZGVybHlpbmdcbiAgICAgICAgaG9zdCBjb21wb25lbnQuIEhvd2V2ZXIsIHNpbmNlIFNjcm9sbFZpZXcgaGFzIGl0J3Mgb3duIG1ldGhvZHMgdGhhdCBjYW4gYmVcbiAgICAgICAgY2FsbGVkIGFzIHdlbGwsIGlmIHdlIHVzZWQgdGhlIHN0YW5kYXJkIGZvcndhcmRSZWYgdGhlbiB0aGVzZVxuICAgICAgICBtZXRob2RzIHdvdWxkbid0IGJlIGFjY2Vzc2libGUgYW5kIHRodXMgYmUgYSBicmVha2luZyBjaGFuZ2UuXG5cbiAgICAgICAgVGhlcmVmb3JlIHdlIGVkaXQgcmVmIHRvIGluY2x1ZGUgU2Nyb2xsVmlldydzIHB1YmxpYyBtZXRob2RzIHNvIHRoYXRcbiAgICAgICAgdGhleSBhcmUgY2FsbGFibGUgZnJvbSB0aGUgcmVmLlxuICAgICAgKi9cbiAgICAgIGlmIChyZWYpIHtcbiAgICAgICAgcmVmLmdldFNjcm9sbFJlc3BvbmRlciA9IHRoaXMuZ2V0U2Nyb2xsUmVzcG9uZGVyO1xuICAgICAgICByZWYuZ2V0U2Nyb2xsYWJsZU5vZGUgPSB0aGlzLmdldFNjcm9sbGFibGVOb2RlO1xuICAgICAgICByZWYuZ2V0SW5uZXJWaWV3Tm9kZSA9IHRoaXMuZ2V0SW5uZXJWaWV3Tm9kZTtcbiAgICAgICAgcmVmLmdldElubmVyVmlld1JlZiA9IHRoaXMuZ2V0SW5uZXJWaWV3UmVmO1xuICAgICAgICByZWYuZ2V0TmF0aXZlU2Nyb2xsUmVmID0gdGhpcy5nZXROYXRpdmVTY3JvbGxSZWY7XG4gICAgICAgIHJlZi5zY3JvbGxUbyA9IHRoaXMuc2Nyb2xsVG87XG4gICAgICAgIHJlZi5zY3JvbGxUb0VuZCA9IHRoaXMuc2Nyb2xsVG9FbmQ7XG4gICAgICAgIHJlZi5mbGFzaFNjcm9sbEluZGljYXRvcnMgPSB0aGlzLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycztcbiAgICAgICAgcmVmLnNjcm9sbFJlc3BvbmRlclpvb21UbyA9IHRoaXMuc2Nyb2xsUmVzcG9uZGVyWm9vbVRvO1xuICAgICAgICByZWYuc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZCA9IHRoaXMuc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZDtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyLCB3aGljaCBzdXBwb3J0c1xuICAgKiBvcGVyYXRpb25zIGxpa2UgYHNjcm9sbFRvYC4gQWxsIFNjcm9sbFZpZXctbGlrZSBjb21wb25lbnRzIHNob3VsZFxuICAgKiBpbXBsZW1lbnQgdGhpcyBtZXRob2Qgc28gdGhhdCB0aGV5IGNhbiBiZSBjb21wb3NlZCB3aGlsZSBwcm92aWRpbmcgYWNjZXNzXG4gICAqIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIncyBtZXRob2RzLlxuICAgKi9cbiAgZ2V0U2Nyb2xsUmVzcG9uZGVyOiAoKSA9PiBTY3JvbGxSZXNwb25kZXJUeXBlID0gKCkgPT4ge1xuICAgIC8vICRGbG93Rml4TWVbdW5jbGVhci10eXBlXVxuICAgIHJldHVybiAoKHRoaXM6IGFueSk6IFNjcm9sbFJlc3BvbmRlclR5cGUpO1xuICB9O1xuXG4gIGdldFNjcm9sbGFibGVOb2RlOiAoKSA9PiA/bnVtYmVyID0gKCkgPT4ge1xuICAgIHJldHVybiBSZWFjdE5hdGl2ZS5maW5kTm9kZUhhbmRsZSh0aGlzLl9zY3JvbGxWaWV3UmVmKTtcbiAgfTtcblxuICBnZXRJbm5lclZpZXdOb2RlOiAoKSA9PiA/bnVtYmVyID0gKCkgPT4ge1xuICAgIHJldHVybiBSZWFjdE5hdGl2ZS5maW5kTm9kZUhhbmRsZSh0aGlzLl9pbm5lclZpZXdSZWYpO1xuICB9O1xuXG4gIGdldElubmVyVmlld1JlZjogKCkgPT4gP1JlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFZpZXc+ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9pbm5lclZpZXdSZWY7XG4gIH07XG5cbiAgZ2V0TmF0aXZlU2Nyb2xsUmVmOiAoKSA9PiA/UmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PG1peGVkPj4gPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX3Njcm9sbFZpZXdSZWY7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNjcm9sbHMgdG8gYSBnaXZlbiB4LCB5IG9mZnNldCwgZWl0aGVyIGltbWVkaWF0ZWx5IG9yIHdpdGggYSBzbW9vdGggYW5pbWF0aW9uLlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKlxuICAgKiBgc2Nyb2xsVG8oe3g6IDAsIHk6IDAsIGFuaW1hdGVkOiB0cnVlfSlgXG4gICAqXG4gICAqIE5vdGU6IFRoZSB3ZWlyZCBmdW5jdGlvbiBzaWduYXR1cmUgaXMgZHVlIHRvIHRoZSBmYWN0IHRoYXQsIGZvciBoaXN0b3JpY2FsIHJlYXNvbnMsXG4gICAqIHRoZSBmdW5jdGlvbiBhbHNvIGFjY2VwdHMgc2VwYXJhdGUgYXJndW1lbnRzIGFzIGFuIGFsdGVybmF0aXZlIHRvIHRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogVGhpcyBpcyBkZXByZWNhdGVkIGR1ZSB0byBhbWJpZ3VpdHkgKHkgYmVmb3JlIHgpLCBhbmQgU0hPVUxEIE5PVCBCRSBVU0VELlxuICAgKi9cbiAgc2Nyb2xsVG86IChcbiAgICBvcHRpb25zPzpcbiAgICAgIHwge1xuICAgICAgICAgIHg/OiBudW1iZXIsXG4gICAgICAgICAgeT86IG51bWJlcixcbiAgICAgICAgICBhbmltYXRlZD86IGJvb2xlYW4sXG4gICAgICAgICAgLi4uXG4gICAgICAgIH1cbiAgICAgIHwgbnVtYmVyLFxuICAgIGRlcHJlY2F0ZWRYPzogbnVtYmVyLFxuICAgIGRlcHJlY2F0ZWRBbmltYXRlZD86IGJvb2xlYW4sXG4gICkgPT4gdm9pZCA9IChcbiAgICBvcHRpb25zPzpcbiAgICAgIHwge1xuICAgICAgICAgIHg/OiBudW1iZXIsXG4gICAgICAgICAgeT86IG51bWJlcixcbiAgICAgICAgICBhbmltYXRlZD86IGJvb2xlYW4sXG4gICAgICAgICAgLi4uXG4gICAgICAgIH1cbiAgICAgIHwgbnVtYmVyLFxuICAgIGRlcHJlY2F0ZWRYPzogbnVtYmVyLFxuICAgIGRlcHJlY2F0ZWRBbmltYXRlZD86IGJvb2xlYW4sXG4gICkgPT4ge1xuICAgIGxldCB4LCB5LCBhbmltYXRlZDtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdgc2Nyb2xsVG8oeSwgeCwgYW5pbWF0ZWQpYCBpcyBkZXByZWNhdGVkLiBVc2UgYHNjcm9sbFRvKHt4OiA1LCB5OiA1LCAnICtcbiAgICAgICAgICAnYW5pbWF0ZWQ6IHRydWV9KWAgaW5zdGVhZC4nLFxuICAgICAgKTtcbiAgICAgIHkgPSBvcHRpb25zO1xuICAgICAgeCA9IGRlcHJlY2F0ZWRYO1xuICAgICAgYW5pbWF0ZWQgPSBkZXByZWNhdGVkQW5pbWF0ZWQ7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zKSB7XG4gICAgICB5ID0gb3B0aW9ucy55O1xuICAgICAgeCA9IG9wdGlvbnMueDtcbiAgICAgIGFuaW1hdGVkID0gb3B0aW9ucy5hbmltYXRlZDtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3Njcm9sbFZpZXdSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBDb21tYW5kcy5zY3JvbGxUbyh0aGlzLl9zY3JvbGxWaWV3UmVmLCB4IHx8IDAsIHkgfHwgMCwgYW5pbWF0ZWQgIT09IGZhbHNlKTtcbiAgfTtcblxuICAvKipcbiAgICogSWYgdGhpcyBpcyBhIHZlcnRpY2FsIFNjcm9sbFZpZXcgc2Nyb2xscyB0byB0aGUgYm90dG9tLlxuICAgKiBJZiB0aGlzIGlzIGEgaG9yaXpvbnRhbCBTY3JvbGxWaWV3IHNjcm9sbHMgdG8gdGhlIHJpZ2h0LlxuICAgKlxuICAgKiBVc2UgYHNjcm9sbFRvRW5kKHthbmltYXRlZDogdHJ1ZX0pYCBmb3Igc21vb3RoIGFuaW1hdGVkIHNjcm9sbGluZyxcbiAgICogYHNjcm9sbFRvRW5kKHthbmltYXRlZDogZmFsc2V9KWAgZm9yIGltbWVkaWF0ZSBzY3JvbGxpbmcuXG4gICAqIElmIG5vIG9wdGlvbnMgYXJlIHBhc3NlZCwgYGFuaW1hdGVkYCBkZWZhdWx0cyB0byB0cnVlLlxuICAgKi9cbiAgc2Nyb2xsVG9FbmQ6IChvcHRpb25zPzogP3thbmltYXRlZD86IGJvb2xlYW4sIC4uLn0pID0+IHZvaWQgPSAoXG4gICAgb3B0aW9ucz86ID97YW5pbWF0ZWQ/OiBib29sZWFuLCAuLi59LFxuICApID0+IHtcbiAgICAvLyBEZWZhdWx0IHRvIHRydWVcbiAgICBjb25zdCBhbmltYXRlZCA9IChvcHRpb25zICYmIG9wdGlvbnMuYW5pbWF0ZWQpICE9PSBmYWxzZTtcbiAgICBpZiAodGhpcy5fc2Nyb2xsVmlld1JlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIENvbW1hbmRzLnNjcm9sbFRvRW5kKHRoaXMuX3Njcm9sbFZpZXdSZWYsIGFuaW1hdGVkKTtcbiAgfTtcblxuICAvKipcbiAgICogRGlzcGxheXMgdGhlIHNjcm9sbCBpbmRpY2F0b3JzIG1vbWVudGFyaWx5LlxuICAgKlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBmbGFzaFNjcm9sbEluZGljYXRvcnM6ICgpID0+IHZvaWQgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFZpZXdSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBDb21tYW5kcy5mbGFzaFNjcm9sbEluZGljYXRvcnModGhpcy5fc2Nyb2xsVmlld1JlZik7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSB1c2VkIGFzIHRoZSBjYWxsYmFjayB0byBvbkZvY3VzIGluIGEgVGV4dElucHV0cydcbiAgICogcGFyZW50IHZpZXcuIE5vdGUgdGhhdCBhbnkgbW9kdWxlIHVzaW5nIHRoaXMgbWl4aW4gbmVlZHMgdG8gcmV0dXJuXG4gICAqIHRoZSBwYXJlbnQgdmlldydzIHJlZiBpbiBnZXRTY3JvbGxWaWV3UmVmKCkgaW4gb3JkZXIgdG8gdXNlIHRoaXMgbWV0aG9kLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbm9kZUhhbmRsZSBUaGUgVGV4dElucHV0IG5vZGUgaGFuZGxlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRpdGlvbmFsT2Zmc2V0IFRoZSBzY3JvbGwgdmlldydzIGJvdHRvbSBcImNvbnRlbnRJbnNldFwiLlxuICAgKiAgICAgICAgRGVmYXVsdCBpcyAwLlxuICAgKiBAcGFyYW0ge2Jvb2x9IHByZXZlbnROZWdhdGl2ZVNjcm9sbGluZyBXaGV0aGVyIHRvIGFsbG93IHB1bGxpbmcgdGhlIGNvbnRlbnRcbiAgICogICAgICAgIGRvd24gdG8gbWFrZSBpdCBtZWV0IHRoZSBrZXlib2FyZCdzIHRvcC4gRGVmYXVsdCBpcyBmYWxzZS5cbiAgICovXG4gIHNjcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQ6IDxUPihcbiAgICBub2RlSGFuZGxlOiBudW1iZXIgfCBSZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8VD4+LFxuICAgIGFkZGl0aW9uYWxPZmZzZXQ/OiBudW1iZXIsXG4gICAgcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0PzogYm9vbGVhbixcbiAgKSA9PiB2b2lkID0gPFQ+KFxuICAgIG5vZGVIYW5kbGU6IG51bWJlciB8IFJlYWN0LkVsZW1lbnRSZWY8SG9zdENvbXBvbmVudDxUPj4sXG4gICAgYWRkaXRpb25hbE9mZnNldD86IG51bWJlcixcbiAgICBwcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQ/OiBib29sZWFuLFxuICApID0+IHtcbiAgICB0aGlzLl9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0ID0gYWRkaXRpb25hbE9mZnNldCB8fCAwO1xuICAgIHRoaXMuX3ByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldCA9ICEhcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0O1xuXG4gICAgaWYgKHRoaXMuX2lubmVyVmlld1JlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBub2RlSGFuZGxlID09PSAnbnVtYmVyJykge1xuICAgICAgVUlNYW5hZ2VyLm1lYXN1cmVMYXlvdXQoXG4gICAgICAgIG5vZGVIYW5kbGUsXG4gICAgICAgIFJlYWN0TmF0aXZlLmZpbmROb2RlSGFuZGxlKHRoaXMpLFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddIGFkZGVkIHdoZW4gaW1wcm92aW5nIHR5cGluZyBmb3IgdGhpcyBwYXJhbWV0ZXJzXG4gICAgICAgIHRoaXMuX3RleHRJbnB1dEZvY3VzRXJyb3IsXG4gICAgICAgIHRoaXMuX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmQsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlSGFuZGxlLm1lYXN1cmVMYXlvdXQoXG4gICAgICAgIHRoaXMuX2lubmVyVmlld1JlZixcbiAgICAgICAgdGhpcy5faW5wdXRNZWFzdXJlQW5kU2Nyb2xsVG9LZXlib2FyZCxcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXSBhZGRlZCB3aGVuIGltcHJvdmluZyB0eXBpbmcgZm9yIHRoaXMgcGFyYW1ldGVyc1xuICAgICAgICB0aGlzLl90ZXh0SW5wdXRGb2N1c0Vycm9yLFxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgaGVscGVyIGZ1bmN0aW9uIHRvIHpvb20gdG8gYSBzcGVjaWZpYyByZWN0IGluIHRoZSBzY3JvbGx2aWV3LiBUaGUgYXJndW1lbnQgaGFzIHRoZSBzaGFwZVxuICAgKiB7eDogbnVtYmVyOyB5OiBudW1iZXI7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyOyBhbmltYXRlZDogYm9vbGVhbiA9IHRydWV9XG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbFJlc3BvbmRlclpvb21UbzogKFxuICAgIHJlY3Q6IHt8XG4gICAgICB4OiBudW1iZXIsXG4gICAgICB5OiBudW1iZXIsXG4gICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgICBhbmltYXRlZD86IGJvb2xlYW4sXG4gICAgfH0sXG4gICAgYW5pbWF0ZWQ/OiBib29sZWFuLCAvLyBkZXByZWNhdGVkLCBwdXQgdGhpcyBpbnNpZGUgdGhlIHJlY3QgYXJndW1lbnQgaW5zdGVhZFxuICApID0+IHZvaWQgPSAoXG4gICAgcmVjdDoge3xcbiAgICAgIHg6IG51bWJlcixcbiAgICAgIHk6IG51bWJlcixcbiAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgIGFuaW1hdGVkPzogYm9vbGVhbixcbiAgICB8fSxcbiAgICBhbmltYXRlZD86IGJvb2xlYW4sIC8vIGRlcHJlY2F0ZWQsIHB1dCB0aGlzIGluc2lkZSB0aGUgcmVjdCBhcmd1bWVudCBpbnN0ZWFkXG4gICkgPT4ge1xuICAgIGludmFyaWFudChQbGF0Zm9ybS5PUyA9PT0gJ2lvcycsICd6b29tVG9SZWN0IGlzIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIGlmICgnYW5pbWF0ZWQnIGluIHJlY3QpIHtcbiAgICAgIHRoaXMuX2FuaW1hdGVkID0gcmVjdC5hbmltYXRlZDtcbiAgICAgIGRlbGV0ZSByZWN0LmFuaW1hdGVkO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGFuaW1hdGVkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnYHNjcm9sbFJlc3BvbmRlclpvb21Ub2AgYGFuaW1hdGVkYCBhcmd1bWVudCBpcyBkZXByZWNhdGVkLiBVc2UgYG9wdGlvbnMuYW5pbWF0ZWRgIGluc3RlYWQnLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fc2Nyb2xsVmlld1JlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIENvbW1hbmRzLnpvb21Ub1JlY3QodGhpcy5fc2Nyb2xsVmlld1JlZiwgcmVjdCwgYW5pbWF0ZWQgIT09IGZhbHNlKTtcbiAgfTtcblxuICBfdGV4dElucHV0Rm9jdXNFcnJvcigpIHtcbiAgICBjb25zb2xlLndhcm4oJ0Vycm9yIG1lYXN1cmluZyB0ZXh0IGZpZWxkLicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjYWxjdWxhdGlvbnMgcGVyZm9ybWVkIGhlcmUgYXNzdW1lIHRoZSBzY3JvbGwgdmlldyB0YWtlcyB1cCB0aGUgZW50aXJlXG4gICAqIHNjcmVlbiAtIGV2ZW4gaWYgaGFzIHNvbWUgY29udGVudCBpbnNldC4gV2UgdGhlbiBtZWFzdXJlIHRoZSBvZmZzZXRzIG9mIHRoZVxuICAgKiBrZXlib2FyZCwgYW5kIGNvbXBlbnNhdGUgYm90aCBmb3IgdGhlIHNjcm9sbCB2aWV3J3MgXCJjb250ZW50SW5zZXRcIi5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgUG9zaXRpb24gb2YgaW5wdXQgdy5yLnQuIHRhYmxlIHZpZXcuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgUG9zaXRpb24gb2YgaW5wdXQgdy5yLnQuIHRhYmxlIHZpZXcuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB0aGUgdGV4dCBpbnB1dC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgdGhlIHRleHQgaW5wdXQuXG4gICAqL1xuICBfaW5wdXRNZWFzdXJlQW5kU2Nyb2xsVG9LZXlib2FyZDogKFxuICAgIGxlZnQ6IG51bWJlcixcbiAgICB0b3A6IG51bWJlcixcbiAgICB3aWR0aDogbnVtYmVyLFxuICAgIGhlaWdodDogbnVtYmVyLFxuICApID0+IHZvaWQgPSAobGVmdDogbnVtYmVyLCB0b3A6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcbiAgICBsZXQga2V5Ym9hcmRTY3JlZW5ZID0gRGltZW5zaW9ucy5nZXQoJ3dpbmRvdycpLmhlaWdodDtcblxuICAgIGNvbnN0IHNjcm9sbFRleHRJbnB1dEludG9WaXNpYmxlUmVjdCA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9rZXlib2FyZFdpbGxPcGVuVG8gIT0gbnVsbCkge1xuICAgICAgICBrZXlib2FyZFNjcmVlblkgPSB0aGlzLl9rZXlib2FyZFdpbGxPcGVuVG8uZW5kQ29vcmRpbmF0ZXMuc2NyZWVuWTtcbiAgICAgIH1cbiAgICAgIGxldCBzY3JvbGxPZmZzZXRZID1cbiAgICAgICAgdG9wIC0ga2V5Ym9hcmRTY3JlZW5ZICsgaGVpZ2h0ICsgdGhpcy5fYWRkaXRpb25hbFNjcm9sbE9mZnNldDtcblxuICAgICAgLy8gQnkgZGVmYXVsdCwgdGhpcyBjYW4gc2Nyb2xsIHdpdGggbmVnYXRpdmUgb2Zmc2V0LCBwdWxsaW5nIHRoZSBjb250ZW50XG4gICAgICAvLyBkb3duIHNvIHRoYXQgdGhlIHRhcmdldCBjb21wb25lbnQncyBib3R0b20gbWVldHMgdGhlIGtleWJvYXJkJ3MgdG9wLlxuICAgICAgLy8gSWYgcmVxdWVzdGVkIG90aGVyd2lzZSwgY2FwIHRoZSBvZmZzZXQgYXQgMCBtaW5pbXVtIHRvIGF2b2lkIGNvbnRlbnRcbiAgICAgIC8vIHNoaWZ0aW5nIGRvd24uXG4gICAgICBpZiAodGhpcy5fcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0ID09PSB0cnVlKSB7XG4gICAgICAgIHNjcm9sbE9mZnNldFkgPSBNYXRoLm1heCgwLCBzY3JvbGxPZmZzZXRZKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2Nyb2xsVG8oe3g6IDAsIHk6IHNjcm9sbE9mZnNldFksIGFuaW1hdGVkOiB0cnVlfSk7XG5cbiAgICAgIHRoaXMuX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQgPSAwO1xuICAgICAgdGhpcy5fcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0ID0gZmFsc2U7XG4gICAgfTtcblxuICAgIGlmICh0aGlzLl9rZXlib2FyZFdpbGxPcGVuVG8gPT0gbnVsbCkge1xuICAgICAgLy8gYF9rZXlib2FyZFdpbGxPcGVuVG9gIGlzIHNldCBpbnNpZGUgYHNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbFNob3dgIHdoaWNoXG4gICAgICAvLyBpcyBub3QgZ3VhcmFudGVlZCB0byBiZSBjYWxsZWQgYmVmb3JlIGBfaW5wdXRNZWFzdXJlQW5kU2Nyb2xsVG9LZXlib2FyZGAgYnV0IG5hdGl2ZSBoYXMgYWxyZWFkeSBzY2hlZHVsZWQgaXQuXG4gICAgICAvLyBJbiBjYXNlIGl0IHdhcyBub3QgY2FsbGVkIGJlZm9yZSBgX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmRgLCB3ZSBwb3N0cG9uZSBzY3JvbGxpbmcgdG9cbiAgICAgIC8vIHRleHQgaW5wdXQuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2Nyb2xsVGV4dElucHV0SW50b1Zpc2libGVSZWN0KCk7XG4gICAgICB9LCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2Nyb2xsVGV4dElucHV0SW50b1Zpc2libGVSZWN0KCk7XG4gICAgfVxuICB9O1xuXG4gIF9nZXRLZXlGb3JJbmRleChpbmRleCwgY2hpbGRBcnJheSkge1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRBcnJheVtpbmRleF07XG4gICAgcmV0dXJuIGNoaWxkICYmIGNoaWxkLmtleTtcbiAgfVxuXG4gIF91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50KCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQuZGV0YWNoKCk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcyAmJlxuICAgICAgdGhpcy5wcm9wcy5zdGlja3lIZWFkZXJJbmRpY2VzLmxlbmd0aCA+IDBcbiAgICApIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50ID0gQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5hdHRhY2hOYXRpdmVFdmVudChcbiAgICAgICAgdGhpcy5fc2Nyb2xsVmlld1JlZixcbiAgICAgICAgJ29uU2Nyb2xsJyxcbiAgICAgICAgW3tuYXRpdmVFdmVudDoge2NvbnRlbnRPZmZzZXQ6IHt5OiB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlfX19XSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgX3NldFN0aWNreUhlYWRlclJlZihcbiAgICBrZXk6IHN0cmluZyxcbiAgICByZWY6ID9SZWFjdC5FbGVtZW50UmVmPFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGU+LFxuICApIHtcbiAgICBpZiAocmVmKSB7XG4gICAgICB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLnNldChrZXksIHJlZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N0aWNreUhlYWRlclJlZnMuZGVsZXRlKGtleSk7XG4gICAgfVxuICB9XG5cbiAgX29uU3RpY2t5SGVhZGVyTGF5b3V0KGluZGV4LCBldmVudCwga2V5KSB7XG4gICAgY29uc3Qge3N0aWNreUhlYWRlckluZGljZXN9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIXN0aWNreUhlYWRlckluZGljZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRBcnJheSA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkodGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgaWYgKGtleSAhPT0gdGhpcy5fZ2V0S2V5Rm9ySW5kZXgoaW5kZXgsIGNoaWxkQXJyYXkpKSB7XG4gICAgICAvLyBpZ25vcmUgc3RhbGUgbGF5b3V0IHVwZGF0ZVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGxheW91dFkgPSBldmVudC5uYXRpdmVFdmVudC5sYXlvdXQueTtcbiAgICB0aGlzLl9oZWFkZXJMYXlvdXRZcy5zZXQoa2V5LCBsYXlvdXRZKTtcblxuICAgIGNvbnN0IGluZGV4T2ZJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXMuaW5kZXhPZihpbmRleCk7XG4gICAgY29uc3QgcHJldmlvdXNIZWFkZXJJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXNbaW5kZXhPZkluZGV4IC0gMV07XG4gICAgaWYgKHByZXZpb3VzSGVhZGVySW5kZXggIT0gbnVsbCkge1xuICAgICAgY29uc3QgcHJldmlvdXNIZWFkZXIgPSB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLmdldChcbiAgICAgICAgdGhpcy5fZ2V0S2V5Rm9ySW5kZXgocHJldmlvdXNIZWFkZXJJbmRleCwgY2hpbGRBcnJheSksXG4gICAgICApO1xuICAgICAgcHJldmlvdXNIZWFkZXIgJiZcbiAgICAgICAgcHJldmlvdXNIZWFkZXIuc2V0TmV4dEhlYWRlclkgJiZcbiAgICAgICAgcHJldmlvdXNIZWFkZXIuc2V0TmV4dEhlYWRlclkobGF5b3V0WSk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZVNjcm9sbCA9IChlOiBTY3JvbGxFdmVudCkgPT4ge1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMucHJvcHMub25TY3JvbGwgJiZcbiAgICAgICAgdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlID09IG51bGwgJiZcbiAgICAgICAgUGxhdGZvcm0uT1MgPT09ICdpb3MnXG4gICAgICApIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgJ1lvdSBzcGVjaWZpZWQgYG9uU2Nyb2xsYCBvbiBhIDxTY3JvbGxWaWV3PiBidXQgbm90ICcgK1xuICAgICAgICAgICAgJ2BzY3JvbGxFdmVudFRocm90dGxlYC4gWW91IHdpbGwgb25seSByZWNlaXZlIG9uZSBldmVudC4gJyArXG4gICAgICAgICAgICAnVXNpbmcgYDE2YCB5b3UgZ2V0IGFsbCB0aGUgZXZlbnRzIGJ1dCBiZSBhd2FyZSB0aGF0IGl0IG1heSAnICtcbiAgICAgICAgICAgIFwiY2F1c2UgZnJhbWUgZHJvcHMsIHVzZSBhIGJpZ2dlciBudW1iZXIgaWYgeW91IGRvbid0IG5lZWQgYXMgXCIgK1xuICAgICAgICAgICAgJ211Y2ggcHJlY2lzaW9uLicsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5rZXlib2FyZERpc21pc3NNb2RlID09PSAnb24tZHJhZycgJiYgdGhpcy5faXNUb3VjaGluZykge1xuICAgICAgICBkaXNtaXNzS2V5Ym9hcmQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyID0gdHJ1ZTtcbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsICYmIHRoaXMucHJvcHMub25TY3JvbGwoZSk7XG4gIH07XG5cbiAgX2hhbmRsZUxheW91dCA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnMgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2xheW91dEhlaWdodDogZS5uYXRpdmVFdmVudC5sYXlvdXQuaGVpZ2h0fSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLm9uTGF5b3V0KSB7XG4gICAgICB0aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICAgIH1cbiAgfTtcblxuICBfaGFuZGxlQ29udGVudE9uTGF5b3V0ID0gKGU6IExheW91dEV2ZW50KSA9PiB7XG4gICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gZS5uYXRpdmVFdmVudC5sYXlvdXQ7XG4gICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlICYmXG4gICAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2Uod2lkdGgsIGhlaWdodCk7XG4gIH07XG5cbiAgX3Njcm9sbFZpZXdSZWY6ID9SZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8bWl4ZWQ+PiA9IG51bGw7XG5cbiAgX2lubmVyVmlld1JlZjogP1JlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFZpZXc+ID0gbnVsbDtcbiAgX3NldElubmVyVmlld1JlZiA9IHNldEFuZEZvcndhcmRSZWYoe1xuICAgIGdldEZvcndhcmRlZFJlZjogKCkgPT4gdGhpcy5wcm9wcy5pbm5lclZpZXdSZWYsXG4gICAgc2V0TG9jYWxSZWY6IHJlZiA9PiB7XG4gICAgICB0aGlzLl9pbm5lclZpZXdSZWYgPSByZWY7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFdhcm5pbmcsIHRoaXMgbWF5IGJlIGNhbGxlZCBzZXZlcmFsIHRpbWVzIGZvciBhIHNpbmdsZSBrZXlib2FyZCBvcGVuaW5nLlxuICAgKiBJdCdzIGJlc3QgdG8gc3RvcmUgdGhlIGluZm9ybWF0aW9uIGluIHRoaXMgbWV0aG9kIGFuZCB0aGVuIHRha2UgYW55IGFjdGlvblxuICAgKiBhdCBhIGxhdGVyIHBvaW50IChlaXRoZXIgaW4gYGtleWJvYXJkRGlkU2hvd2Agb3Igb3RoZXIpLlxuICAgKlxuICAgKiBIZXJlJ3MgdGhlIG9yZGVyIHRoYXQgZXZlbnRzIG9jY3VyIGluOlxuICAgKiAtIGZvY3VzXG4gICAqIC0gd2lsbFNob3cge3N0YXJ0Q29vcmRpbmF0ZXMsIGVuZENvb3JkaW5hdGVzfSBzZXZlcmFsIHRpbWVzXG4gICAqIC0gZGlkU2hvdyBzZXZlcmFsIHRpbWVzXG4gICAqIC0gYmx1clxuICAgKiAtIHdpbGxIaWRlIHtzdGFydENvb3JkaW5hdGVzLCBlbmRDb29yZGluYXRlc30gc2V2ZXJhbCB0aW1lc1xuICAgKiAtIGRpZEhpZGUgc2V2ZXJhbCB0aW1lc1xuICAgKlxuICAgKiBUaGUgYFNjcm9sbFJlc3BvbmRlcmAgbW9kdWxlIGNhbGxiYWNrcyBmb3IgZWFjaCBvZiB0aGVzZSBldmVudHMuXG4gICAqIEV2ZW4gdGhvdWdoIGFueSB1c2VyIGNvdWxkIGhhdmUgZWFzaWx5IGxpc3RlbmVkIHRvIGtleWJvYXJkIGV2ZW50c1xuICAgKiB0aGVtc2VsdmVzLCB1c2luZyB0aGVzZSBgcHJvcHNgIGNhbGxiYWNrcyBlbnN1cmVzIHRoYXQgb3JkZXJpbmcgb2YgZXZlbnRzXG4gICAqIGlzIGNvbnNpc3RlbnQgLSBhbmQgbm90IGRlcGVuZGVudCBvbiB0aGUgb3JkZXIgdGhhdCB0aGUga2V5Ym9hcmQgZXZlbnRzIGFyZVxuICAgKiBzdWJzY3JpYmVkIHRvLiBUaGlzIG1hdHRlcnMgd2hlbiB0ZWxsaW5nIHRoZSBzY3JvbGwgdmlldyB0byBzY3JvbGwgdG8gd2hlcmVcbiAgICogdGhlIGtleWJvYXJkIGlzIGhlYWRlZCAtIHRoZSBzY3JvbGwgcmVzcG9uZGVyIGJldHRlciBoYXZlIGJlZW4gbm90aWZpZWQgb2ZcbiAgICogdGhlIGtleWJvYXJkIGRlc3RpbmF0aW9uIGJlZm9yZSBiZWluZyBpbnN0cnVjdGVkIHRvIHNjcm9sbCB0byB3aGVyZSB0aGVcbiAgICoga2V5Ym9hcmQgd2lsbCBiZS4gU3RpY2sgdG8gdGhlIGBTY3JvbGxSZXNwb25kZXJgIGNhbGxiYWNrcywgYW5kIGV2ZXJ5dGhpbmdcbiAgICogd2lsbCB3b3JrLlxuICAgKlxuICAgKiBXQVJOSU5HOiBUaGVzZSBjYWxsYmFja3Mgd2lsbCBmaXJlIGV2ZW4gaWYgYSBrZXlib2FyZCBpcyBkaXNwbGF5ZWQgaW4gYVxuICAgKiBkaWZmZXJlbnQgbmF2aWdhdGlvbiBwYW5lLiBGaWx0ZXIgb3V0IHRoZSBldmVudHMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gICAqIHJlbGV2YW50IHRvIHlvdS4gKEZvciBleGFtcGxlLCBvbmx5IGlmIHlvdSByZWNlaXZlIHRoZXNlIGNhbGxiYWNrcyBhZnRlclxuICAgKiB5b3UgaGFkIGV4cGxpY2l0bHkgZm9jdXNlZCBhIG5vZGUgZXRjKS5cbiAgICovXG5cbiAgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsU2hvdzogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQgPSAoXG4gICAgZTogS2V5Ym9hcmRFdmVudCxcbiAgKSA9PiB7XG4gICAgdGhpcy5fa2V5Ym9hcmRXaWxsT3BlblRvID0gZTtcbiAgICB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsU2hvdyAmJiB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsU2hvdyhlKTtcbiAgfTtcblxuICBzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxIaWRlOiAoZTogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCA9IChcbiAgICBlOiBLZXlib2FyZEV2ZW50LFxuICApID0+IHtcbiAgICB0aGlzLl9rZXlib2FyZFdpbGxPcGVuVG8gPSBudWxsO1xuICAgIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxIaWRlICYmIHRoaXMucHJvcHMub25LZXlib2FyZFdpbGxIaWRlKGUpO1xuICB9O1xuXG4gIHNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkU2hvdzogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQgPSAoXG4gICAgZTogS2V5Ym9hcmRFdmVudCxcbiAgKSA9PiB7XG4gICAgLy8gVE9ETyg3NjkzOTYxKTogVGhlIGV2ZW50IGZvciBEaWRTaG93IGlzIG5vdCBhdmFpbGFibGUgb24gaU9TIHlldC5cbiAgICAvLyBVc2UgdGhlIG9uZSBmcm9tIFdpbGxTaG93IGFuZCBkbyBub3QgYXNzaWduLlxuICAgIGlmIChlKSB7XG4gICAgICB0aGlzLl9rZXlib2FyZFdpbGxPcGVuVG8gPSBlO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRTaG93ICYmIHRoaXMucHJvcHMub25LZXlib2FyZERpZFNob3coZSk7XG4gIH07XG5cbiAgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRIaWRlOiAoZTogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCA9IChcbiAgICBlOiBLZXlib2FyZEV2ZW50LFxuICApID0+IHtcbiAgICB0aGlzLl9rZXlib2FyZFdpbGxPcGVuVG8gPSBudWxsO1xuICAgIHRoaXMucHJvcHMub25LZXlib2FyZERpZEhpZGUgJiYgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkSGlkZShlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Nb21lbnR1bVNjcm9sbEJlZ2luYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVNb21lbnR1bVNjcm9sbEJlZ2luOiAoZTogU2Nyb2xsRXZlbnQpID0+IHZvaWQgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICB0aGlzLl9sYXN0TW9tZW50dW1TY3JvbGxCZWdpblRpbWUgPSBnbG9iYWwucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4gJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uTW9tZW50dW1TY3JvbGxFbmRgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZU1vbWVudHVtU2Nyb2xsRW5kOiAoZTogU2Nyb2xsRXZlbnQpID0+IHZvaWQgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICBGcmFtZVJhdGVMb2dnZXIuZW5kU2Nyb2xsKCk7XG4gICAgdGhpcy5fbGFzdE1vbWVudHVtU2Nyb2xsRW5kVGltZSA9IGdsb2JhbC5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQgJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVbmZvcnR1bmF0ZWx5LCBgb25TY3JvbGxCZWdpbkRyYWdgIGFsc28gZmlyZXMgd2hlbiAqc3RvcHBpbmcqIHRoZSBzY3JvbGxcbiAgICogYW5pbWF0aW9uLCBhbmQgdGhlcmUncyBub3QgYW4gZWFzeSB3YXkgdG8gZGlzdGluZ3Vpc2ggYSBkcmFnIHZzLiBzdG9wcGluZ1xuICAgKiBtb21lbnR1bS5cbiAgICpcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TY3JvbGxCZWdpbkRyYWdgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVNjcm9sbEJlZ2luRHJhZzogKGU6IFNjcm9sbEV2ZW50KSA9PiB2b2lkID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgRnJhbWVSYXRlTG9nZ2VyLmJlZ2luU2Nyb2xsKCk7IC8vIFRPRE86IHRyYWNrIGFsbCBzY3JvbGxzIGFmdGVyIGltcGxlbWVudGluZyBvblNjcm9sbEVuZEFuaW1hdGlvblxuICAgIHRoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TY3JvbGxFbmREcmFnYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVTY3JvbGxFbmREcmFnOiAoZTogU2Nyb2xsRXZlbnQpID0+IHZvaWQgPSAoZTogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICBjb25zdCB7dmVsb2NpdHl9ID0gZS5uYXRpdmVFdmVudDtcbiAgICAvLyAtIElmIHdlIGFyZSBhbmltYXRpbmcsIHRoZW4gdGhpcyBpcyBhIFwiZHJhZ1wiIHRoYXQgaXMgc3RvcHBpbmcgdGhlIHNjcm9sbHZpZXcgYW5kIG1vbWVudHVtIGVuZFxuICAgIC8vICAgd2lsbCBmaXJlLlxuICAgIC8vIC0gSWYgdmVsb2NpdHkgaXMgbm9uLXplcm8sIHRoZW4gdGhlIGludGVyYWN0aW9uIHdpbGwgc3RvcCB3aGVuIG1vbWVudHVtIHNjcm9sbCBlbmRzIG9yXG4gICAgLy8gICBhbm90aGVyIGRyYWcgc3RhcnRzIGFuZCBlbmRzLlxuICAgIC8vIC0gSWYgd2UgZG9uJ3QgZ2V0IHZlbG9jaXR5LCBiZXR0ZXIgdG8gc3RvcCB0aGUgaW50ZXJhY3Rpb24gdHdpY2UgdGhhbiBub3Qgc3RvcCBpdC5cbiAgICBpZiAoXG4gICAgICAhdGhpcy5faXNBbmltYXRpbmcoKSAmJlxuICAgICAgKCF2ZWxvY2l0eSB8fCAodmVsb2NpdHkueCA9PT0gMCAmJiB2ZWxvY2l0eS55ID09PSAwKSlcbiAgICApIHtcbiAgICAgIEZyYW1lUmF0ZUxvZ2dlci5lbmRTY3JvbGwoKTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgaGVscGVyIGZ1bmN0aW9uIGZvciB0aGlzIGNsYXNzIHRoYXQgbGV0cyB1cyBxdWlja2x5IGRldGVybWluZSBpZiB0aGVcbiAgICogdmlldyBpcyBjdXJyZW50bHkgYW5pbWF0aW5nLiBUaGlzIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgdG8ga25vdyB3aGVuXG4gICAqIGEgdG91Y2ggaGFzIGp1c3Qgc3RhcnRlZCBvciBlbmRlZC5cbiAgICovXG4gIF9pc0FuaW1hdGluZzogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHtcbiAgICBjb25zdCBub3cgPSBnbG9iYWwucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgdGltZVNpbmNlTGFzdE1vbWVudHVtU2Nyb2xsRW5kID1cbiAgICAgIG5vdyAtIHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWU7XG4gICAgY29uc3QgaXNBbmltYXRpbmcgPVxuICAgICAgdGltZVNpbmNlTGFzdE1vbWVudHVtU2Nyb2xsRW5kIDwgSVNfQU5JTUFUSU5HX1RPVUNIX1NUQVJUX1RIUkVTSE9MRF9NUyB8fFxuICAgICAgdGhpcy5fbGFzdE1vbWVudHVtU2Nyb2xsRW5kVGltZSA8IHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEJlZ2luVGltZTtcbiAgICByZXR1cm4gaXNBbmltYXRpbmc7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uUmVzcG9uZGVyR3JhbnRgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVJlc3BvbmRlckdyYW50OiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5fb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyID0gZmFsc2U7XG4gICAgdGhpcy5wcm9wcy5vblJlc3BvbmRlckdyYW50ICYmIHRoaXMucHJvcHMub25SZXNwb25kZXJHcmFudChlKTtcbiAgICB0aGlzLl9iZWNhbWVSZXNwb25kZXJXaGlsZUFuaW1hdGluZyA9IHRoaXMuX2lzQW5pbWF0aW5nKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uUmVzcG9uZGVyUmVqZWN0YCBldmVudC5cbiAgICpcbiAgICogU29tZSBvdGhlciBlbGVtZW50IGlzIG5vdCB5aWVsZGluZyBpdHMgcm9sZSBhcyByZXNwb25kZXIuIE5vcm1hbGx5LCB3ZSdkXG4gICAqIGp1c3QgZGlzYWJsZSB0aGUgYFVJU2Nyb2xsVmlld2AsIGJ1dCBhIHRvdWNoIGhhcyBhbHJlYWR5IGJlZ2FuIG9uIGl0LCB0aGVcbiAgICogYFVJU2Nyb2xsVmlld2Agd2lsbCBub3QgYWNjZXB0IGJlaW5nIGRpc2FibGVkIGFmdGVyIHRoYXQuIFRoZSBlYXNpZXN0XG4gICAqIHNvbHV0aW9uIGZvciBub3cgaXMgdG8gYWNjZXB0IHRoZSBsaW1pdGF0aW9uIG9mIGRpc2FsbG93aW5nIHRoaXNcbiAgICogYWx0b2dldGhlci4gVG8gaW1wcm92ZSB0aGlzLCBmaW5kIGEgd2F5IHRvIGRpc2FibGUgdGhlIGBVSVNjcm9sbFZpZXdgIGFmdGVyXG4gICAqIGEgdG91Y2ggaGFzIGFscmVhZHkgc3RhcnRlZC5cbiAgICovXG4gIF9oYW5kbGVSZXNwb25kZXJSZWplY3Q6ICgpID0+IHZvaWQgPSAoKSA9PiB7fTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25SZXNwb25kZXJSZWxlYXNlYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVSZXNwb25kZXJSZWxlYXNlOiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5faXNUb3VjaGluZyA9IGUubmF0aXZlRXZlbnQudG91Y2hlcy5sZW5ndGggIT09IDA7XG4gICAgdGhpcy5wcm9wcy5vblJlc3BvbmRlclJlbGVhc2UgJiYgdGhpcy5wcm9wcy5vblJlc3BvbmRlclJlbGVhc2UoZSk7XG5cbiAgICBpZiAodHlwZW9mIGUudGFyZ2V0ID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKF9fREVWX18pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnRGlkIG5vdCBleHBlY3QgZXZlbnQgdGFyZ2V0IHRvIGJlIGEgbnVtYmVyLiBTaG91bGQgaGF2ZSBiZWVuIGEgbmF0aXZlIGNvbXBvbmVudCcsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBCeSBkZWZhdWx0IHNjcm9sbCB2aWV3cyB3aWxsIHVuZm9jdXMgYSB0ZXh0RmllbGRcbiAgICAvLyBpZiBhbm90aGVyIHRvdWNoIG9jY3VycyBvdXRzaWRlIG9mIGl0XG4gICAgY29uc3QgY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCA9IFRleHRJbnB1dFN0YXRlLmN1cnJlbnRseUZvY3VzZWRJbnB1dCgpO1xuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyAhPT0gdHJ1ZSAmJlxuICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzICE9PSAnYWx3YXlzJyAmJlxuICAgICAgdGhpcy5fa2V5Ym9hcmRJc0Rpc21pc3NpYmxlKCkgJiZcbiAgICAgIGUudGFyZ2V0ICE9PSBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ICYmXG4gICAgICAhdGhpcy5fb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyICYmXG4gICAgICAhdGhpcy5fYmVjYW1lUmVzcG9uZGVyV2hpbGVBbmltYXRpbmdcbiAgICApIHtcbiAgICAgIFRleHRJbnB1dFN0YXRlLmJsdXJUZXh0SW5wdXQoY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBXZSB3aWxsIGFsbG93IHRoZSBzY3JvbGwgdmlldyB0byBnaXZlIHVwIGl0cyBsb2NrIGlmZiBpdCBhY3F1aXJlZCB0aGUgbG9ja1xuICAgKiBkdXJpbmcgYW4gYW5pbWF0aW9uLiBUaGlzIGlzIGEgdmVyeSB1c2VmdWwgZGVmYXVsdCB0aGF0IGhhcHBlbnMgdG8gc2F0aXNmeVxuICAgKiBtYW55IGNvbW1vbiB1c2VyIGV4cGVyaWVuY2VzLlxuICAgKlxuICAgKiAtIFN0b3AgYSBzY3JvbGwgb24gdGhlIGxlZnQgZWRnZSwgdGhlbiB0dXJuIHRoYXQgaW50byBhbiBvdXRlciB2aWV3J3NcbiAgICogICBiYWNrc3dpcGUuXG4gICAqIC0gU3RvcCBhIHNjcm9sbCBtaWQtYm91bmNlIGF0IHRoZSB0b3AsIGNvbnRpbnVlIHB1bGxpbmcgdG8gaGF2ZSB0aGUgb3V0ZXJcbiAgICogICB2aWV3IGRpc21pc3MuXG4gICAqIC0gSG93ZXZlciwgd2l0aG91dCBjYXRjaGluZyB0aGUgc2Nyb2xsIHZpZXcgbWlkLWJvdW5jZSAod2hpbGUgaXQgaXNcbiAgICogICBtb3Rpb25sZXNzKSwgaWYgeW91IGRyYWcgZmFyIGVub3VnaCBmb3IgdGhlIHNjcm9sbCB2aWV3IHRvIGJlY29tZVxuICAgKiAgIHJlc3BvbmRlciAoYW5kIHRoZXJlZm9yZSBkcmFnIHRoZSBzY3JvbGwgdmlldyBhIGJpdCksIGFueSBiYWNrc3dpcGVcbiAgICogICBuYXZpZ2F0aW9uIG9mIGEgc3dpcGUgZ2VzdHVyZSBoaWdoZXIgaW4gdGhlIHZpZXcgaGllcmFyY2h5LCBzaG91bGQgYmVcbiAgICogICByZWplY3RlZC5cbiAgICovXG4gIF9oYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgcmV0dXJuICF0aGlzLl9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU2Nyb2xsYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVTY3JvbGxTaG91bGRTZXRSZXNwb25kZXI6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgLy8gQWxsb3cgYW55IGV2ZW50IHRvdWNoIHBhc3MgdGhyb3VnaCBpZiB0aGUgZGVmYXVsdCBwYW4gcmVzcG9uZGVyIGlzIGRpc2FibGVkXG4gICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXIgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2lzVG91Y2hpbmc7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1lcmVseSB0b3VjaCBzdGFydGluZyBpcyBub3Qgc3VmZmljaWVudCBmb3IgYSBzY3JvbGwgdmlldyB0byBiZWNvbWUgdGhlXG4gICAqIHJlc3BvbmRlci4gQmVpbmcgdGhlIFwicmVzcG9uZGVyXCIgbWVhbnMgdGhhdCB0aGUgdmVyeSBuZXh0IHRvdWNoIG1vdmUvZW5kXG4gICAqIGV2ZW50IHdpbGwgcmVzdWx0IGluIGFuIGFjdGlvbi9tb3ZlbWVudC5cbiAgICpcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcmAgZXZlbnQuXG4gICAqXG4gICAqIGBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyYCBpcyB1c2VkIHdoZW4gdGhlIG5leHQgbW92ZS9lbmQgd2lsbCB0cmlnZ2VyXG4gICAqIHNvbWUgVUkgbW92ZW1lbnQvYWN0aW9uLCBidXQgd2hlbiB5b3Ugd2FudCB0byB5aWVsZCBwcmlvcml0eSB0byB2aWV3c1xuICAgKiBuZXN0ZWQgaW5zaWRlIG9mIHRoZSB2aWV3LlxuICAgKlxuICAgKiBUaGVyZSBtYXkgYmUgc29tZSBjYXNlcyB3aGVyZSBzY3JvbGwgdmlld3MgYWN0dWFsbHkgc2hvdWxkIHJldHVybiBgdHJ1ZWBcbiAgICogZnJvbSBgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcmA6IEFueSB0aW1lIHdlIGFyZSBkZXRlY3RpbmcgYSBzdGFuZGFyZCB0YXBcbiAgICogdGhhdCBnaXZlcyBwcmlvcml0eSB0byBuZXN0ZWQgdmlld3MuXG4gICAqXG4gICAqIC0gSWYgYSBzaW5nbGUgdGFwIG9uIHRoZSBzY3JvbGwgdmlldyB0cmlnZ2VycyBhbiBhY3Rpb24gc3VjaCBhc1xuICAgKiAgIHJlY2VudGVyaW5nIGEgbWFwIHN0eWxlIHZpZXcgeWV0IHdhbnRzIHRvIGdpdmUgcHJpb3JpdHkgdG8gaW50ZXJhY3Rpb25cbiAgICogICB2aWV3cyBpbnNpZGUgKHN1Y2ggYXMgZHJvcHBlZCBwaW5zIG9yIGxhYmVscyksIHRoZW4gd2Ugd291bGQgcmV0dXJuIHRydWVcbiAgICogICBmcm9tIHRoaXMgbWV0aG9kIHdoZW4gdGhlcmUgaXMgYSBzaW5nbGUgdG91Y2guXG4gICAqXG4gICAqIC0gU2ltaWxhciB0byB0aGUgcHJldmlvdXMgY2FzZSwgaWYgYSB0d28gZmluZ2VyIFwidGFwXCIgc2hvdWxkIHRyaWdnZXIgYVxuICAgKiAgIHpvb20sIHdlIHdvdWxkIGNoZWNrIHRoZSBgdG91Y2hlc2AgY291bnQsIGFuZCBpZiBgPj0gMmAsIHdlIHdvdWxkIHJldHVyblxuICAgKiAgIHRydWUuXG4gICAqXG4gICAqL1xuICBfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXI6IChlOiBQcmVzc0V2ZW50KSA9PiBib29sZWFuID0gKFxuICAgIGU6IFByZXNzRXZlbnQsXG4gICkgPT4ge1xuICAgIC8vIEFsbG93IGFueSBldmVudCB0b3VjaCBwYXNzIHRocm91Z2ggaWYgdGhlIGRlZmF1bHQgcGFuIHJlc3BvbmRlciBpcyBkaXNhYmxlZFxuICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVTY3JvbGxWaWV3UGFuUmVzcG9uZGVyID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudGx5Rm9jdXNlZElucHV0ID0gVGV4dElucHV0U3RhdGUuY3VycmVudGx5Rm9jdXNlZElucHV0KCk7XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPT09ICdoYW5kbGVkJyAmJlxuICAgICAgdGhpcy5fa2V5Ym9hcmRJc0Rpc21pc3NpYmxlKCkgJiZcbiAgICAgIGUudGFyZ2V0ICE9PSBjdXJyZW50bHlGb2N1c2VkSW5wdXRcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZXJlIGFyZSB0aW1lcyB3aGVuIHRoZSBzY3JvbGwgdmlldyB3YW50cyB0byBiZWNvbWUgdGhlIHJlc3BvbmRlclxuICAgKiAobWVhbmluZyByZXNwb25kIHRvIHRoZSBuZXh0IGltbWVkaWF0ZSBgdG91Y2hTdGFydC90b3VjaEVuZGApLCBpbiBhIHdheVxuICAgKiB0aGF0ICpkb2Vzbid0KiBnaXZlIHByaW9yaXR5IHRvIG5lc3RlZCB2aWV3cyAoaGVuY2UgdGhlIGNhcHR1cmUgcGhhc2UpOlxuICAgKlxuICAgKiAtIEN1cnJlbnRseSBhbmltYXRpbmcuXG4gICAqIC0gVGFwcGluZyBhbnl3aGVyZSB0aGF0IGlzIG5vdCBhIHRleHQgaW5wdXQsIHdoaWxlIHRoZSBrZXlib2FyZCBpc1xuICAgKiAgIHVwICh3aGljaCBzaG91bGQgZGlzbWlzcyB0aGUga2V5Ym9hcmQpLlxuICAgKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZWAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlOiAoZTogUHJlc3NFdmVudCkgPT4gYm9vbGVhbiA9IChcbiAgICBlOiBQcmVzc0V2ZW50LFxuICApID0+IHtcbiAgICAvLyBUaGUgc2Nyb2xsIHZpZXcgc2hvdWxkIHJlY2VpdmUgdGFwcyBpbnN0ZWFkIG9mIGl0cyBkZXNjZW5kYW50cyBpZjpcbiAgICAvLyAqIGl0IGlzIGFscmVhZHkgYW5pbWF0aW5nL2RlY2VsZXJhdGluZ1xuICAgIGlmICh0aGlzLl9pc0FuaW1hdGluZygpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBbGxvdyBhbnkgZXZlbnQgdG91Y2ggcGFzcyB0aHJvdWdoIGlmIHRoZSBkZWZhdWx0IHBhbiByZXNwb25kZXIgaXMgZGlzYWJsZWRcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlciA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vICogdGhlIGtleWJvYXJkIGlzIHVwLCBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzIGlzICduZXZlcicgKHRoZSBkZWZhdWx0KSxcbiAgICAvLyBhbmQgYSBuZXcgdG91Y2ggc3RhcnRzIHdpdGggYSBub24tdGV4dGlucHV0IHRhcmdldCAoaW4gd2hpY2ggY2FzZSB0aGVcbiAgICAvLyBmaXJzdCB0YXAgc2hvdWxkIGJlIHNlbnQgdG8gdGhlIHNjcm9sbCB2aWV3IGFuZCBkaXNtaXNzIHRoZSBrZXlib2FyZCxcbiAgICAvLyB0aGVuIHRoZSBzZWNvbmQgdGFwIGdvZXMgdG8gdGhlIGFjdHVhbCBpbnRlcmlvciB2aWV3KVxuICAgIGNvbnN0IHtrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qga2V5Ym9hcmROZXZlclBlcnNpc3RUYXBzID1cbiAgICAgICFrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzIHx8IGtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPT09ICduZXZlcic7XG5cbiAgICBpZiAodHlwZW9mIGUudGFyZ2V0ID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKF9fREVWX18pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnRGlkIG5vdCBleHBlY3QgZXZlbnQgdGFyZ2V0IHRvIGJlIGEgbnVtYmVyLiBTaG91bGQgaGF2ZSBiZWVuIGEgbmF0aXZlIGNvbXBvbmVudCcsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBrZXlib2FyZE5ldmVyUGVyc2lzdFRhcHMgJiZcbiAgICAgIHRoaXMuX2tleWJvYXJkSXNEaXNtaXNzaWJsZSgpICYmXG4gICAgICBlLnRhcmdldCAhPSBudWxsICYmXG4gICAgICAhVGV4dElucHV0U3RhdGUuaXNUZXh0SW5wdXQoZS50YXJnZXQpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIERvIHdlIGNvbnNpZGVyIHRoZXJlIHRvIGJlIGEgZGlzbWlzc2libGUgc29mdC1rZXlib2FyZCBvcGVuP1xuICAgKi9cbiAgX2tleWJvYXJkSXNEaXNtaXNzaWJsZTogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50bHlGb2N1c2VkSW5wdXQgPSBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQoKTtcblxuICAgIC8vIFdlIGNhbm5vdCBkaXNtaXNzIHRoZSBrZXlib2FyZCB3aXRob3V0IGFuIGlucHV0IHRvIGJsdXIsIGV2ZW4gaWYgYSBzb2Z0XG4gICAgLy8ga2V5Ym9hcmQgaXMgb3BlbiAoZS5nLiB3aGVuIGtleWJvYXJkIGlzIG9wZW4gZHVlIHRvIGEgbmF0aXZlIGNvbXBvbmVudFxuICAgIC8vIG5vdCBwYXJ0aWNpcGF0aW5nIGluIFRleHRJbnB1dFN0YXRlKS4gSXQncyBhbHNvIHBvc3NpYmxlIHRoYXQgdGhlXG4gICAgLy8gY3VycmVudGx5IGZvY3VzZWQgaW5wdXQgaXNuJ3QgYSBUZXh0SW5wdXQgKHN1Y2ggYXMgYnkgY2FsbGluZyByZWYuZm9jdXNcbiAgICAvLyBvbiBhIG5vbi1UZXh0SW5wdXQpLlxuICAgIGNvbnN0IGhhc0ZvY3VzZWRUZXh0SW5wdXQgPVxuICAgICAgY3VycmVudGx5Rm9jdXNlZElucHV0ICE9IG51bGwgJiZcbiAgICAgIFRleHRJbnB1dFN0YXRlLmlzVGV4dElucHV0KGN1cnJlbnRseUZvY3VzZWRJbnB1dCk7XG5cbiAgICAvLyBFdmVuIGlmIGFuIGlucHV0IGlzIGZvY3VzZWQsIHdlIG1heSBub3QgaGF2ZSBhIGtleWJvYXJkIHRvIGRpc21pc3MuIEUuZ1xuICAgIC8vIHdoZW4gdXNpbmcgYSBwaHlzaWNhbCBrZXlib2FyZC4gRW5zdXJlIHdlIGhhdmUgYW4gZXZlbnQgZm9yIGFuIG9wZW5lZFxuICAgIC8vIGtleWJvYXJkLCBleGNlcHQgb24gQW5kcm9pZCB3aGVyZSBzZXR0aW5nIHdpbmRvd1NvZnRJbnB1dE1vZGUgdG9cbiAgICAvLyBhZGp1c3ROb25lIGxlYWRzIHRvIG1pc3Npbmcga2V5Ym9hcmQgZXZlbnRzLlxuICAgIGNvbnN0IHNvZnRLZXlib2FyZE1heUJlT3BlbiA9XG4gICAgICB0aGlzLl9rZXlib2FyZFdpbGxPcGVuVG8gIT0gbnVsbCB8fCBQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnO1xuXG4gICAgcmV0dXJuIGhhc0ZvY3VzZWRUZXh0SW5wdXQgJiYgc29mdEtleWJvYXJkTWF5QmVPcGVuO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblRvdWNoRW5kYCBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmVzc0V2ZW50fSBlIEV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVRvdWNoRW5kOiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgY29uc3QgbmF0aXZlRXZlbnQgPSBlLm5hdGl2ZUV2ZW50O1xuICAgIHRoaXMuX2lzVG91Y2hpbmcgPSBuYXRpdmVFdmVudC50b3VjaGVzLmxlbmd0aCAhPT0gMDtcbiAgICB0aGlzLnByb3BzLm9uVG91Y2hFbmQgJiYgdGhpcy5wcm9wcy5vblRvdWNoRW5kKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblRvdWNoQ2FuY2VsYCBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmVzc0V2ZW50fSBlIEV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVRvdWNoQ2FuY2VsOiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5faXNUb3VjaGluZyA9IGZhbHNlO1xuICAgIHRoaXMucHJvcHMub25Ub3VjaENhbmNlbCAmJiB0aGlzLnByb3BzLm9uVG91Y2hDYW5jZWwoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uVG91Y2hTdGFydGAgZXZlbnQuXG4gICAqXG4gICAqIFNpbmNlIHdlIGtub3cgdGhhdCB0aGUgYFNpbXBsZUV2ZW50UGx1Z2luYCBvY2N1cnMgbGF0ZXIgaW4gdGhlIHBsdWdpblxuICAgKiBvcmRlciwgYWZ0ZXIgYFJlc3BvbmRlckV2ZW50UGx1Z2luYCwgd2UgY2FuIGRldGVjdCB0aGF0IHdlIHdlcmUgKm5vdCpcbiAgICogcGVybWl0dGVkIHRvIGJlIHRoZSByZXNwb25kZXIgKHByZXN1bWFibHkgYmVjYXVzZSBhIGNvbnRhaW5lZCB2aWV3IGJlY2FtZVxuICAgKiByZXNwb25kZXIpLiBUaGUgYG9uUmVzcG9uZGVyUmVqZWN0YCB3b24ndCBmaXJlIGluIHRoYXQgY2FzZSAtIGl0IG9ubHlcbiAgICogZmlyZXMgd2hlbiBhICpjdXJyZW50KiByZXNwb25kZXIgcmVqZWN0cyBvdXIgcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmVzc0V2ZW50fSBlIFRvdWNoIFN0YXJ0IGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVRvdWNoU3RhcnQ6IChlOiBQcmVzc0V2ZW50KSA9PiB2b2lkID0gKGU6IFByZXNzRXZlbnQpID0+IHtcbiAgICB0aGlzLl9pc1RvdWNoaW5nID0gdHJ1ZTtcbiAgICB0aGlzLnByb3BzLm9uVG91Y2hTdGFydCAmJiB0aGlzLnByb3BzLm9uVG91Y2hTdGFydChlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Ub3VjaE1vdmVgIGV2ZW50LlxuICAgKlxuICAgKiBTaW5jZSB3ZSBrbm93IHRoYXQgdGhlIGBTaW1wbGVFdmVudFBsdWdpbmAgb2NjdXJzIGxhdGVyIGluIHRoZSBwbHVnaW5cbiAgICogb3JkZXIsIGFmdGVyIGBSZXNwb25kZXJFdmVudFBsdWdpbmAsIHdlIGNhbiBkZXRlY3QgdGhhdCB3ZSB3ZXJlICpub3QqXG4gICAqIHBlcm1pdHRlZCB0byBiZSB0aGUgcmVzcG9uZGVyIChwcmVzdW1hYmx5IGJlY2F1c2UgYSBjb250YWluZWQgdmlldyBiZWNhbWVcbiAgICogcmVzcG9uZGVyKS4gVGhlIGBvblJlc3BvbmRlclJlamVjdGAgd29uJ3QgZmlyZSBpbiB0aGF0IGNhc2UgLSBpdCBvbmx5XG4gICAqIGZpcmVzIHdoZW4gYSAqY3VycmVudCogcmVzcG9uZGVyIHJlamVjdHMgb3VyIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJlc3NFdmVudH0gZSBUb3VjaCBTdGFydCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVUb3VjaE1vdmU6IChlOiBQcmVzc0V2ZW50KSA9PiB2b2lkID0gKGU6IFByZXNzRXZlbnQpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uVG91Y2hNb3ZlICYmIHRoaXMucHJvcHMub25Ub3VjaE1vdmUoZSk7XG4gIH07XG5cbiAgcmVuZGVyKCk6IFJlYWN0Lk5vZGUgfCBSZWFjdC5FbGVtZW50PHN0cmluZz4ge1xuICAgIGNvbnN0IFtOYXRpdmVEaXJlY3Rpb25hbFNjcm9sbFZpZXcsIE5hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsQ29udGVudFZpZXddID1cbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZVxuICAgICAgICA/IE5hdGl2ZUhvcml6b250YWxTY3JvbGxWaWV3VHVwbGVcbiAgICAgICAgOiBOYXRpdmVWZXJ0aWNhbFNjcm9sbFZpZXdUdXBsZTtcblxuICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXJTdHlsZSA9IFtcbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZSAmJiBzdHlsZXMuY29udGVudENvbnRhaW5lckhvcml6b250YWwsXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnRDb250YWluZXJTdHlsZSxcbiAgICBdO1xuICAgIGlmIChfX0RFVl9fICYmIHRoaXMucHJvcHMuc3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3Qgc3R5bGUgPSBmbGF0dGVuU3R5bGUodGhpcy5wcm9wcy5zdHlsZSk7XG4gICAgICBjb25zdCBjaGlsZExheW91dFByb3BzID0gWydhbGlnbkl0ZW1zJywgJ2p1c3RpZnlDb250ZW50J10uZmlsdGVyKFxuICAgICAgICBwcm9wID0+IHN0eWxlICYmIHN0eWxlW3Byb3BdICE9PSB1bmRlZmluZWQsXG4gICAgICApO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBjaGlsZExheW91dFByb3BzLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgJ1Njcm9sbFZpZXcgY2hpbGQgbGF5b3V0ICgnICtcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShjaGlsZExheW91dFByb3BzKSArXG4gICAgICAgICAgJykgbXVzdCBiZSBhcHBsaWVkIHRocm91Z2ggdGhlIGNvbnRlbnRDb250YWluZXJTdHlsZSBwcm9wLicsXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRlbnRTaXplQ2hhbmdlUHJvcHMgPVxuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlID09IG51bGxcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDoge1xuICAgICAgICAgICAgb25MYXlvdXQ6IHRoaXMuX2hhbmRsZUNvbnRlbnRPbkxheW91dCxcbiAgICAgICAgICB9O1xuXG4gICAgY29uc3Qge3N0aWNreUhlYWRlckluZGljZXN9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuXG4gICAgaWYgKHN0aWNreUhlYWRlckluZGljZXMgIT0gbnVsbCAmJiBzdGlja3lIZWFkZXJJbmRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGNoaWxkQXJyYXkgPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuXG4gICAgICBjaGlsZHJlbiA9IGNoaWxkQXJyYXkubWFwKChjaGlsZCwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXhPZkluZGV4ID0gY2hpbGQgPyBzdGlja3lIZWFkZXJJbmRpY2VzLmluZGV4T2YoaW5kZXgpIDogLTE7XG4gICAgICAgIGlmIChpbmRleE9mSW5kZXggPiAtMSkge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGNoaWxkLmtleTtcbiAgICAgICAgICBjb25zdCBuZXh0SW5kZXggPSBzdGlja3lIZWFkZXJJbmRpY2VzW2luZGV4T2ZJbmRleCArIDFdO1xuICAgICAgICAgIGNvbnN0IFN0aWNreUhlYWRlckNvbXBvbmVudCA9XG4gICAgICAgICAgICB0aGlzLnByb3BzLlN0aWNreUhlYWRlckNvbXBvbmVudCB8fCBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8U3RpY2t5SGVhZGVyQ29tcG9uZW50XG4gICAgICAgICAgICAgIGtleT17a2V5fVxuICAgICAgICAgICAgICBuYXRpdmVJRD17J1N0aWNreUhlYWRlci0nICsga2V5fSAvKiBUT0RPOiBUNjgyNTg4NDYuICovXG4gICAgICAgICAgICAgIHJlZj17cmVmID0+IHRoaXMuX3NldFN0aWNreUhlYWRlclJlZihrZXksIHJlZil9XG4gICAgICAgICAgICAgIG5leHRIZWFkZXJMYXlvdXRZPXt0aGlzLl9oZWFkZXJMYXlvdXRZcy5nZXQoXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0S2V5Rm9ySW5kZXgobmV4dEluZGV4LCBjaGlsZEFycmF5KSxcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgb25MYXlvdXQ9e2V2ZW50ID0+IHRoaXMuX29uU3RpY2t5SGVhZGVyTGF5b3V0KGluZGV4LCBldmVudCwga2V5KX1cbiAgICAgICAgICAgICAgc2Nyb2xsQW5pbWF0ZWRWYWx1ZT17dGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZX1cbiAgICAgICAgICAgICAgaW52ZXJ0ZWQ9e3RoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVyc31cbiAgICAgICAgICAgICAgaGlkZGVuT25TY3JvbGw9e3RoaXMucHJvcHMuc3RpY2t5SGVhZGVySGlkZGVuT25TY3JvbGx9XG4gICAgICAgICAgICAgIHNjcm9sbFZpZXdIZWlnaHQ9e3RoaXMuc3RhdGUubGF5b3V0SGVpZ2h0fT5cbiAgICAgICAgICAgICAge2NoaWxkfVxuICAgICAgICAgICAgPC9TdGlja3lIZWFkZXJDb21wb25lbnQ+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjaGlsZHJlbiA9IChcbiAgICAgIDxTY3JvbGxWaWV3Q29udGV4dC5Qcm92aWRlclxuICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy5ob3Jpem9udGFsID09PSB0cnVlID8gSE9SSVpPTlRBTCA6IFZFUlRJQ0FMfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9TY3JvbGxWaWV3Q29udGV4dC5Qcm92aWRlcj5cbiAgICApO1xuXG4gICAgY29uc3QgaGFzU3RpY2t5SGVhZGVycyA9XG4gICAgICBBcnJheS5pc0FycmF5KHN0aWNreUhlYWRlckluZGljZXMpICYmIHN0aWNreUhlYWRlckluZGljZXMubGVuZ3RoID4gMDtcblxuICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXIgPSAoXG4gICAgICA8TmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxDb250ZW50Vmlld1xuICAgICAgICB7Li4uY29udGVudFNpemVDaGFuZ2VQcm9wc31cbiAgICAgICAgcmVmPXt0aGlzLl9zZXRJbm5lclZpZXdSZWZ9XG4gICAgICAgIHN0eWxlPXtjb250ZW50Q29udGFpbmVyU3R5bGV9XG4gICAgICAgIHJlbW92ZUNsaXBwZWRTdWJ2aWV3cz17XG4gICAgICAgICAgLy8gU3VidmlldyBjbGlwcGluZyBjYXVzZXMgaXNzdWVzIHdpdGggc3RpY2t5IGhlYWRlcnMgb24gQW5kcm9pZCBhbmRcbiAgICAgICAgICAvLyB3b3VsZCBiZSBoYXJkIHRvIGZpeCBwcm9wZXJseSBpbiBhIHBlcmZvcm1hbnQgd2F5LlxuICAgICAgICAgIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcgJiYgaGFzU3RpY2t5SGVhZGVyc1xuICAgICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgICAgOiB0aGlzLnByb3BzLnJlbW92ZUNsaXBwZWRTdWJ2aWV3c1xuICAgICAgICB9XG4gICAgICAgIGNvbGxhcHNhYmxlPXtmYWxzZX0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxDb250ZW50Vmlldz5cbiAgICApO1xuXG4gICAgY29uc3QgYWx3YXlzQm91bmNlSG9yaXpvbnRhbCA9XG4gICAgICB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZUhvcml6b250YWwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRoaXMucHJvcHMuYWx3YXlzQm91bmNlSG9yaXpvbnRhbFxuICAgICAgICA6IHRoaXMucHJvcHMuaG9yaXpvbnRhbDtcblxuICAgIGNvbnN0IGFsd2F5c0JvdW5jZVZlcnRpY2FsID1cbiAgICAgIHRoaXMucHJvcHMuYWx3YXlzQm91bmNlVmVydGljYWwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRoaXMucHJvcHMuYWx3YXlzQm91bmNlVmVydGljYWxcbiAgICAgICAgOiAhdGhpcy5wcm9wcy5ob3Jpem9udGFsO1xuXG4gICAgY29uc3QgYmFzZVN0eWxlID1cbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZVxuICAgICAgICA/IHN0eWxlcy5iYXNlSG9yaXpvbnRhbFxuICAgICAgICA6IHN0eWxlcy5iYXNlVmVydGljYWw7XG4gICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICAuLi50aGlzLnByb3BzLFxuICAgICAgYWx3YXlzQm91bmNlSG9yaXpvbnRhbCxcbiAgICAgIGFsd2F5c0JvdW5jZVZlcnRpY2FsLFxuICAgICAgc3R5bGU6IFN0eWxlU2hlZXQuY29tcG9zZShiYXNlU3R5bGUsIHRoaXMucHJvcHMuc3R5bGUpLFxuICAgICAgLy8gT3ZlcnJpZGUgdGhlIG9uQ29udGVudFNpemVDaGFuZ2UgZnJvbSBwcm9wcywgc2luY2UgdGhpcyBldmVudCBjYW5cbiAgICAgIC8vIGJ1YmJsZSB1cCBmcm9tIFRleHRJbnB1dHNcbiAgICAgIG9uQ29udGVudFNpemVDaGFuZ2U6IG51bGwsXG4gICAgICBvbkxheW91dDogdGhpcy5faGFuZGxlTGF5b3V0LFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEJlZ2luOiB0aGlzLl9oYW5kbGVNb21lbnR1bVNjcm9sbEJlZ2luLFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEVuZDogdGhpcy5faGFuZGxlTW9tZW50dW1TY3JvbGxFbmQsXG4gICAgICBvblJlc3BvbmRlckdyYW50OiB0aGlzLl9oYW5kbGVSZXNwb25kZXJHcmFudCxcbiAgICAgIG9uUmVzcG9uZGVyUmVqZWN0OiB0aGlzLl9oYW5kbGVSZXNwb25kZXJSZWplY3QsXG4gICAgICBvblJlc3BvbmRlclJlbGVhc2U6IHRoaXMuX2hhbmRsZVJlc3BvbmRlclJlbGVhc2UsXG4gICAgICBvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdDogdGhpcy5faGFuZGxlUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0LFxuICAgICAgb25TY3JvbGxCZWdpbkRyYWc6IHRoaXMuX2hhbmRsZVNjcm9sbEJlZ2luRHJhZyxcbiAgICAgIG9uU2Nyb2xsRW5kRHJhZzogdGhpcy5faGFuZGxlU2Nyb2xsRW5kRHJhZyxcbiAgICAgIG9uU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyOiB0aGlzLl9oYW5kbGVTY3JvbGxTaG91bGRTZXRSZXNwb25kZXIsXG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyOiB0aGlzLl9oYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlcixcbiAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlOiB0aGlzXG4gICAgICAgIC5faGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlLFxuICAgICAgb25Ub3VjaEVuZDogdGhpcy5faGFuZGxlVG91Y2hFbmQsXG4gICAgICBvblRvdWNoTW92ZTogdGhpcy5faGFuZGxlVG91Y2hNb3ZlLFxuICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLl9oYW5kbGVUb3VjaFN0YXJ0LFxuICAgICAgb25Ub3VjaENhbmNlbDogdGhpcy5faGFuZGxlVG91Y2hDYW5jZWwsXG4gICAgICBvblNjcm9sbDogdGhpcy5faGFuZGxlU2Nyb2xsLFxuICAgICAgc2Nyb2xsRXZlbnRUaHJvdHRsZTogaGFzU3RpY2t5SGVhZGVyc1xuICAgICAgICA/IDFcbiAgICAgICAgOiB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUsXG4gICAgICBzZW5kTW9tZW50dW1FdmVudHM6XG4gICAgICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luIHx8IHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZFxuICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgIDogZmFsc2UsXG4gICAgICAvLyBkZWZhdWx0IHRvIHRydWVcbiAgICAgIHNuYXBUb1N0YXJ0OiB0aGlzLnByb3BzLnNuYXBUb1N0YXJ0ICE9PSBmYWxzZSxcbiAgICAgIC8vIGRlZmF1bHQgdG8gdHJ1ZVxuICAgICAgc25hcFRvRW5kOiB0aGlzLnByb3BzLnNuYXBUb0VuZCAhPT0gZmFsc2UsXG4gICAgICAvLyBwYWdpbmdFbmFibGVkIGlzIG92ZXJyaWRkZW4gYnkgc25hcFRvSW50ZXJ2YWwgLyBzbmFwVG9PZmZzZXRzXG4gICAgICBwYWdpbmdFbmFibGVkOiBQbGF0Zm9ybS5zZWxlY3Qoe1xuICAgICAgICAvLyBvbiBpT1MsIHBhZ2luZ0VuYWJsZWQgbXVzdCBiZSBzZXQgdG8gZmFsc2UgdG8gaGF2ZSBzbmFwVG9JbnRlcnZhbCAvIHNuYXBUb09mZnNldHMgd29ya1xuICAgICAgICBpb3M6XG4gICAgICAgICAgdGhpcy5wcm9wcy5wYWdpbmdFbmFibGVkID09PSB0cnVlICYmXG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9JbnRlcnZhbCA9PSBudWxsICYmXG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9PZmZzZXRzID09IG51bGwsXG4gICAgICAgIC8vIG9uIEFuZHJvaWQsIHBhZ2luZ0VuYWJsZWQgbXVzdCBiZSBzZXQgdG8gdHJ1ZSB0byBoYXZlIHNuYXBUb0ludGVydmFsIC8gc25hcFRvT2Zmc2V0cyB3b3JrXG4gICAgICAgIGFuZHJvaWQ6XG4gICAgICAgICAgdGhpcy5wcm9wcy5wYWdpbmdFbmFibGVkID09PSB0cnVlIHx8XG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9JbnRlcnZhbCAhPSBudWxsIHx8XG4gICAgICAgICAgdGhpcy5wcm9wcy5zbmFwVG9PZmZzZXRzICE9IG51bGwsXG4gICAgICB9KSxcbiAgICB9O1xuXG4gICAgY29uc3Qge2RlY2VsZXJhdGlvblJhdGV9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZGVjZWxlcmF0aW9uUmF0ZSAhPSBudWxsKSB7XG4gICAgICBwcm9wcy5kZWNlbGVyYXRpb25SYXRlID0gcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUoZGVjZWxlcmF0aW9uUmF0ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVmcmVzaENvbnRyb2wgPSB0aGlzLnByb3BzLnJlZnJlc2hDb250cm9sO1xuXG4gICAgaWYgKHJlZnJlc2hDb250cm9sKSB7XG4gICAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gICAgICAgIC8vIE9uIGlPUyB0aGUgUmVmcmVzaENvbnRyb2wgaXMgYSBjaGlsZCBvZiB0aGUgU2Nyb2xsVmlldy5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3IHsuLi5wcm9wc30gcmVmPXt0aGlzLl9zZXROYXRpdmVSZWZ9PlxuICAgICAgICAgICAge3JlZnJlc2hDb250cm9sfVxuICAgICAgICAgICAge2NvbnRlbnRDb250YWluZXJ9XG4gICAgICAgICAgPC9OYXRpdmVEaXJlY3Rpb25hbFNjcm9sbFZpZXc+XG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgICAgICAgLy8gT24gQW5kcm9pZCB3cmFwIHRoZSBTY3JvbGxWaWV3IHdpdGggYSBBbmRyb2lkU3dpcGVSZWZyZXNoTGF5b3V0LlxuICAgICAgICAvLyBTaW5jZSB0aGUgU2Nyb2xsVmlldyBpcyB3cmFwcGVkIGFkZCB0aGUgc3R5bGUgcHJvcHMgdG8gdGhlXG4gICAgICAgIC8vIEFuZHJvaWRTd2lwZVJlZnJlc2hMYXlvdXQgYW5kIHVzZSBmbGV4OiAxIGZvciB0aGUgU2Nyb2xsVmlldy5cbiAgICAgICAgLy8gTm90ZTogd2Ugc2hvdWxkIHNwbGl0IHByb3BzLnN0eWxlIG9uIHRoZSBpbm5lciBhbmQgb3V0ZXIgcHJvcHNcbiAgICAgICAgLy8gaG93ZXZlciwgdGhlIFNjcm9sbFZpZXcgc3RpbGwgbmVlZHMgdGhlIGJhc2VTdHlsZSB0byBiZSBzY3JvbGxhYmxlXG4gICAgICAgIGNvbnN0IHtvdXRlciwgaW5uZXJ9ID0gc3BsaXRMYXlvdXRQcm9wcyhmbGF0dGVuU3R5bGUocHJvcHMuc3R5bGUpKTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChcbiAgICAgICAgICByZWZyZXNoQ29udHJvbCxcbiAgICAgICAgICB7c3R5bGU6IFN0eWxlU2hlZXQuY29tcG9zZShiYXNlU3R5bGUsIG91dGVyKX0sXG4gICAgICAgICAgPE5hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsVmlld1xuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShiYXNlU3R5bGUsIGlubmVyKX1cbiAgICAgICAgICAgIHJlZj17dGhpcy5fc2V0TmF0aXZlUmVmfT5cbiAgICAgICAgICAgIHtjb250ZW50Q29udGFpbmVyfVxuICAgICAgICAgIDwvTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3PixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxOYXRpdmVEaXJlY3Rpb25hbFNjcm9sbFZpZXcgey4uLnByb3BzfSByZWY9e3RoaXMuX3NldE5hdGl2ZVJlZn0+XG4gICAgICAgIHtjb250ZW50Q29udGFpbmVyfVxuICAgICAgPC9OYXRpdmVEaXJlY3Rpb25hbFNjcm9sbFZpZXc+XG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIGJhc2VWZXJ0aWNhbDoge1xuICAgIGZsZXhHcm93OiAxLFxuICAgIGZsZXhTaHJpbms6IDEsXG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgb3ZlcmZsb3c6ICdzY3JvbGwnLFxuICB9LFxuICBiYXNlSG9yaXpvbnRhbDoge1xuICAgIGZsZXhHcm93OiAxLFxuICAgIGZsZXhTaHJpbms6IDEsXG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgb3ZlcmZsb3c6ICdzY3JvbGwnLFxuICB9LFxuICBjb250ZW50Q29udGFpbmVySG9yaXpvbnRhbDoge1xuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICB9LFxufSk7XG5cbmZ1bmN0aW9uIFdyYXBwZXIocHJvcHMsIHJlZikge1xuICByZXR1cm4gPFNjcm9sbFZpZXcgey4uLnByb3BzfSBzY3JvbGxWaWV3UmVmPXtyZWZ9IC8+O1xufVxuV3JhcHBlci5kaXNwbGF5TmFtZSA9ICdTY3JvbGxWaWV3JztcbmNvbnN0IEZvcndhcmRlZFNjcm9sbFZpZXcgPSBSZWFjdC5mb3J3YXJkUmVmKFdyYXBwZXIpO1xuXG4vLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gQWRkIHN0YXRpYyBjb250ZXh0IHRvIEZvcndhcmRlZFNjcm9sbFZpZXdcbkZvcndhcmRlZFNjcm9sbFZpZXcuQ29udGV4dCA9IFNjcm9sbFZpZXdDb250ZXh0O1xuXG5Gb3J3YXJkZWRTY3JvbGxWaWV3LmRpc3BsYXlOYW1lID0gJ1Njcm9sbFZpZXcnO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgoRm9yd2FyZGVkU2Nyb2xsVmlldzogJEZsb3dGaXhNZSk6IFJlYWN0LkFic3RyYWN0Q29tcG9uZW50PFxuICBSZWFjdC5FbGVtZW50Q29uZmlnPHR5cGVvZiBTY3JvbGxWaWV3PixcbiAgJFJlYWRPbmx5PHt8XG4gICAgLi4uJEV4YWN0PFJlYWN0LkVsZW1lbnRSZWY8SG9zdENvbXBvbmVudDxtaXhlZD4+PixcbiAgICAuLi5TY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHMsXG4gIHx9Pixcbj4gJlxuICBTY3JvbGxWaWV3Q29tcG9uZW50U3RhdGljcyk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQWFBOztBQUtBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7Ozs7O0FBcENBQSxPQUFPLENBQUMsa0NBQUQsQ0FBUDs7QUFzQ0EsV0FDRUMsaUJBQUEsQ0FBU0MsRUFBVCxLQUFnQixTQUFoQixHQUNJO0VBQ0VDLCtCQUErQixFQUFFLENBQy9CQyxtREFEK0IsRUFFL0JDLDBEQUYrQixDQURuQztFQUtFQyw2QkFBNkIsRUFBRSxDQUFDQyxrQ0FBRCxFQUE0QkMsYUFBNUI7QUFMakMsQ0FESixHQVFJO0VBQ0VMLCtCQUErQixFQUFFLENBQy9CSSxrQ0FEK0IsRUFFL0JFLHlDQUYrQixDQURuQztFQUtFSCw2QkFBNkIsRUFBRSxDQUM3QkMsa0NBRDZCLEVBRTdCRSx5Q0FGNkI7QUFMakMsQ0FUTjtBQUFBLElBQU9OLCtCQUFQLFFBQU9BLCtCQUFQO0FBQUEsSUFBd0NHLDZCQUF4QyxRQUF3Q0EsNkJBQXhDOztBQXltQkEsSUFBTUkscUNBQXFDLEdBQUcsRUFBOUM7O0lBeUNNQyxVOzs7OztFQUdKLG9CQUFZQyxLQUFaLEVBQTBCO0lBQUE7O0lBQUE7O0lBQUE7SUFDeEIsMEJBQU1BLEtBQU47SUFEd0IsTUFVMUJDLDhCQVYw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